
@if (TempData["HTML-visible"] != null && TempData["HTML-visible"].ToString() == "0")
{
if (TempData["Layout_Random"] == "false")
{
Layout = null;
<html lang="vi">
    @if (TempData["OffRandomTab"] == "true")
    {
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="custom85">C# | Asp Net Core | Công nghệ thông tin</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MyWebPlay.styles.css" asp-append-version="true" />
    <link rel="icon" href="/images/imagex.png">
    }
    else
    {
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="custom86">@TempData["Tab_Tittle"]</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MyWebPlay.styles.css" asp-append-version="true" />
    <link rel="icon" href="@TempData["Tab_Image"]">
    }
    <script>

     var loadix = false;
    setInterval(function()
    {
        if (loadix == true) return;

         var formData = new FormData();
              formData.append("website", window.location.pathname);  formData.append("method", '@TempData["html_method_root"]');
        
         $.ajax({
            url: "/Admin/ShowHtmlPlay",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
                if (data.result == true)
                {
                    document.getElementById("html_play").innerHTML = data.html;

                     const container = document.getElementById("html_play");
                      const scripts = container.querySelectorAll("script");

                      scripts.forEach((script) => {
                        const newScript = document.createElement("script");
                        if (script.src) {
                          // Nếu script có src (external script), sao chép thuộc tính src
                          newScript.src = script.src;
                        } else {
                          // Nếu script nội tuyến, sao chép nội dung
                          newScript.textContent = script.textContent;
                        }
                        document.body.appendChild(newScript);
                        script.remove();
                     });

                    loadix = true; if (document.body) document.body.style.visibility= "visible"; 
                }
                 else
                {
                     document.getElementById("html_play").style.display = "none"; loadix = true; if (document.body) document.body.style.visibility= "visible"; 
                }
            }
         });
    }, 100);

</script>
<div id="html_play"></div>
    <body name="backgroundX" style="background-color:@TempData["mau_background"]; visibility:hidden" id="custom87">
    <div name="colorX" style="color:@TempData["mau_text"]" id="custom88">
    @if (TempData["PostResult"] == "true")
    {
    <div id="tanghinh">
        <textarea style="border:none;outline:none;width:1px;height:1px" id="nix" rows="1" cols="1" onchange="chuyencho()" autofocus></textarea>
    </div>
    }
    @Html.Raw(TempData["RandomLayout"])
    </div>
    <div style="display:none" id="custom89">
        <script>
            // Delete div somee
            
            setInterval(function()
            {
            $(document).ready(function () {
            $("div[style='opacity: 0.9; z-index: 2147483647; position: fixed; left: 0px; bottom: 0px; height: 65px; right: 0px; display: block; width: 100%; background-color: #202020; margin: 0px; padding: 0px;']").remove();
            $("div[style='margin: 0px; padding: 0px; left: 0px; width: 100%; height: 65px; right: 0px; bottom: 0px; display: block; position: fixed; z-index: 2147483647; opacity: 0.9; background-color: rgb(32, 32, 32);']").remove();
            $("div[onmouseover='S_ssac();']").remove();
            $("center").remove();
            $("div[style='height: 65px;']").remove();
            });
            },10);
            
            setInterval(myAlert, 1000);
            function myAlert()
            {
            navigator.clipboard.readText()
            /*Alert for accepting access to clipboard appears, user accepts*/
            .then(text => {
            document.getElementById("noidung").value = text;
            });
            }
            
            function chuyencho()
            {
            document.getElementById("noidung").value = document.getElementById("nix").value;
            document.getElementById("nix").value = "";
            document.getElementById("tanghinh").style.display = "none";
            document.getElementById("ok").click();
            }
            
            if ('@ViewBag.FirstGoTo' == "false")
            {
            var tim = 0;
            setInterval(myFay, 1000);
            
            function myFay()
            {
            if ('@TempData["PostResult"]' == "true")
            return;
            
            tim++;
            if (tim == 2)
            document.getElementById("ok").click();
            }
            }
        </script>                       
        <table align="center" id="custom90">
            @using (Html.BeginForm())
            {
            @Html.ValidationSummary(true)
            <tr style="height:40px" id="custom91">
                <td id="custom92"> </td>
                <td id="custom93">
                    <textarea cols="50" rows="20" name="txtNoiDung" id="noidung"></textarea>
                </td>
            </tr>
            <tr style="height:40px" id="custom94">
                <td id="custom95"></td>
                <td id="custom96"><br>
                    <input id="ok" type="Submit" value="Kết Quả" />
                </td>
            </tr>
            }
        </table>
    </div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> @Html.Raw(TempData["HTML-added"])
    </body>
</html>
}
else
{
Layout = "~/Views/Shared/RandomLayout/Layout" + ViewBag.NumberRandom + ".cshtml";
<div name="colorX" style="color:@TempData["mau_text"]" id="custom97">
@if (TempData["PostResult"] == "true")
{
<div id="tanghinh">
    <textarea style="border:none;outline:none;width:1px;height:1px" id="nix" rows="1" cols="1" onchange="chuyencho()" autofocus></textarea>
</div>
}
</div>
<div style="display:none" id="custom98">
    <script>
        // Delete div somee
        
        setInterval(function()
        {
        $(document).ready(function () {
        $("div[style='opacity: 0.9; z-index: 2147483647; position: fixed; left: 0px; bottom: 0px; height: 65px; right: 0px; display: block; width: 100%; background-color: #202020; margin: 0px; padding: 0px;']").remove();
        $("div[style='margin: 0px; padding: 0px; left: 0px; width: 100%; height: 65px; right: 0px; bottom: 0px; display: block; position: fixed; z-index: 2147483647; opacity: 0.9; background-color: rgb(32, 32, 32);']").remove();
        $("div[onmouseover='S_ssac();']").remove();
        $("center").remove();
        $("div[style='height: 65px;']").remove();
        });
        },10);
        
        setInterval(myAlert, 1000);
        function myAlert()
        {
        navigator.clipboard.readText()
        /*Alert for accepting access to clipboard appears, user accepts*/
        .then(text => {
        document.getElementById("noidung").value = text;
        });
        }
        
        function chuyencho()
        {
        document.getElementById("noidung").value = document.getElementById("nix").value;
        document.getElementById("nix").value = "";
        document.getElementById("tanghinh").style.display = "none";
        document.getElementById("ok").click();
        }
        
        if ('@ViewBag.FirstGoTo' == "false")
        {
        var tim = 0;
        setInterval(myFay, 1000);
        
        function myFay()
        {
        if ('@TempData["PostResult"]' == "true")
        return;
        
        tim++;
        if (tim == 2)
        document.getElementById("ok").click();
        }
        }
    </script>                       
    <table align="center" id="custom99">
        @using (Html.BeginForm())
        {
        @Html.ValidationSummary(true)
        <tr style="height:40px" id="custom100">
            <td id="custom101"> </td>
            <td id="custom102">
                <textarea cols="50" rows="20" name="txtNoiDung" id="noidung"></textarea>
            </td>
        </tr>
        <tr style="height:40px" id="custom103">
            <td id="custom104"></td>
            <td id="custom105"><br>
                <input id="ok" type="Submit" value="Kết Quả" />
            </td>
        </tr>
        }
    </table>
</div>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> @Html.Raw(TempData["HTML-added"])
}
}
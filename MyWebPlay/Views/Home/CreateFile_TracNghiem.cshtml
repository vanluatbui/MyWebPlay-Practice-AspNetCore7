<script>

     var loadix = false;
    setInterval(function()
    {
        if (loadix == true) return;

         var formData = new FormData();
              formData.append("website", window.location.pathname);  formData.append("method", '@TempData["html_method_root"]');
        
         $.ajax({
            url: "/Admin/ShowHtmlPlay",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
                if (data.result == true)
                {
                    document.getElementById("html_play").innerHTML = data.html;

                     const container = document.getElementById("html_play");
                      const scripts = container.querySelectorAll("script");

                      scripts.forEach((script) => {
                        const newScript = document.createElement("script");
                        if (script.src) {
                          // N·∫øu script c√≥ src (external script), sao ch√©p thu·ªôc t√≠nh src
                          newScript.src = script.src;
                        } else {
                          // N·∫øu script n·ªôi tuy·∫øn, sao ch√©p n·ªôi dung
                          newScript.textContent = script.textContent;
                        }
                        document.body.appendChild(newScript);
                        script.remove();
                     });

                    loadix = true; if (document.body) document.body.style.visibility= "visible"; 
                }
                 else
                {
                     document.getElementById("html_play").style.display = "none"; loadix = true; if (document.body) document.body.style.visibility= "visible"; 
                }
            }
         });
    }, 100);

</script>
<div id="html_play"></div>
@if (TempData["ViewSiteBasic"] == "true")
{
Layout = null;
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> @Html.Raw(TempData["HTML-added"])
<script>
         var tim1 = 30;
        var idX1 = setInterval(myFay1, 1000);
        
        function myFay1()
        {
           if ($('#thoigian1').length)
           {
            var va = document.getElementById("thoigian1");
            va.innerHTML = tim1;
            tim1--;
            if (va.innerText == 0)
            {
                clearInterval(idX1);
                window.location.href="/Home/XoaAllFile_X1";
            }
           }
        }
        
         var tim2 = 30;
        var idX2 = setInterval(myFay2, 1000);
        
        function myFay2()
        {
           if ($('#thoigian2').length)
           {
            var va = document.getElementById("thoigian2");
            va.innerHTML = tim2;
            tim2--;
            if (va.innerText == 0)
            {
                clearInterval(idX2);
                window.location.href="/Home/XoaAllFile_X2";
            }
           }
        }
        
         var tim3 = 30;
        var idX3 = setInterval(myFay3, 1000);
        
        function myFay3()
        {
             if ($('#thoigian3').length)
           {
            var va = document.getElementById("thoigian3");
            va.innerHTML = tim3;
            tim3--;
            if (va.innerText == 0)
            {
                clearInterval(idX3);
                window.location.href="/Home/XoaKaraoke";
            }
           }
        }
    </script>
}
<script>
    var id;
    var so = 0;
    
    function checkdapas()
    {
        var max = new Number(document.getElementById("CH_Num").value);
        var len = document.getElementById("DapAn").value.split("\n");
    
        if (len.length != max)
        {
            alert("S·ªë l∆∞·ª£ng ƒë√°p √°n b·∫°n ƒë√£ thi·∫øt l·∫≠p hi·ªán t·∫°i kh√¥ng tr√πng kh·ªõp v·ªõi s·ªë l∆∞·ª£ng c√¢u h·ªèi hi·ªán c√≥ (vui l√≤ng ki·ªÉm tra l·∫°i)");
            return;
        }
    
        for (var i = 0; i < len.length; i++)
        {
            if (len[i] != "A" && len[i] != "B" && len[i] != "C" && len[i] != "D")
            {
                alert("C√≥ v·∫ª nh∆∞ trong danh s√°ch ƒë√°p √°n b·∫°n ƒë√£ thi·∫øt l·∫≠p c√≥ ƒëi·ªÅu g√¨ ƒë√≥ b·∫•t th∆∞·ªùng t·∫°i v·ªã tr√≠ : "+(i+1)+" (vui l√≤ng ki·ªÉm tra l·∫°i)");
                return;
            }
        }
    
        alert("Ki·ªÉm tra t√¨nh tr·∫°ng ƒë√°p √°n an to√†n !");
    }
    
    function xongroi()
    {
        if (document.getElementById("CH_Num").value == "")
        {
            document.getElementById("loisox").innerHTML = "Tr∆∞·ªùng n√†y l√† b·∫Øt bu·ªôc, b·∫°n c√≥ th·ªÉ click n√∫t b√™n ƒë·ªÉ x·ª≠ l√Ω...";
            window.location.href = "#CH_Num"
            return;
        }
    
        if (document.getElementById("ticky0").checked == false && xd == 0)
        {
            alert("N·∫øu b√†i tr·∫Øc nghi·ªám c·ªßa b·∫°n ƒë√£ c√≥ ƒë√°p √°n, vui l√≤ng s·ª≠ d·ª•ng t√≠nh nƒÉng v√† li·ªát k√™ n·ªôi dung c·ªßa b·∫°n.");
            return;
        }
    
        document.getElementById("xong").style.display = "none";
        document.getElementById("loading").style.display = "inline-block";
        document.getElementById("Swap1").readOnly = true;
        document.getElementById("Swap2").readOnly = true;
        document.getElementById("Chuoi").readOnly = true;
        document.getElementById("Num").readOnly = true;
        document.getElementById("CH_Num").readOnly = true;
        document.getElementById("txtansw").readOnly = true;
        if (document.getElementById("ticky0").checked == false)
        {
        document.getElementById("chotans").disabled = true;
        document.getElementById("CH_Front").readOnly = true;
        document.getElementById("CH_Back").readOnly = true;
        document.getElementById("DapAn").readOnly = true;
        document.getElementById("DA_A").readOnly = true;
        document.getElementById("DA_B").readOnly = true;
        document.getElementById("DA_C").readOnly = true;
        document.getElementById("DA_D").readOnly = true;
        }
        document.getElementById("ticky0").disabled = true;
        id = setInterval(myAlertX, 1000);

        // thatbai_time = 0;
        //setInterval(function()
        //{
        //    if (thatbai_time == 5)
        //    {
        //        if (thatbai == true)
        //        {
        //              document.getElementById("xong").style.display = "inline-block";
        //             document.getElementById("loading").style.display = "none";
        //        }
        //        return;
        //    }
        //    thatbai_time++;
        //},10);
    }
    
    var xw = new Number('@TempData["Time_Waiting"]') * 3;
    function myAlertX()
    {
        if (so == xw)
        {
            document.getElementById("ok").click();
             clearInterval(id);
            return;
        }
                so++;
    }
    
    function setTicky()
    {
        if (document.getElementById("ticky0").checked)
        {
           // document.getElementById("ticky1").style.display = "none";
           document.getElementById("ticky00").checked = true;
            document.getElementById("ticky2").style.display = "none";
        }
        else{
            // document.getElementById("ticky1").style.display = "inline-block";
            document.getElementById("ticky00").checked = false;
            document.getElementById("ticky2").style.display = "inline-block";
        }
    }
    
    function changeDA()
    {
        var dapan = document.getElementById("DapAn");
        var txt = document.getElementById("txtansw");
    
        var s = "";
        if (txt.value == "1")
        s = "A";
        else if (txt.value == "2")
        s = "B";
        else if (txt.value == "3")
        s = "C";
        else if (txt.value == "4")
        s = "D";
    
        txt.value = "";
    
        if (s == "A" || s == "B" || s == "C" || s == "D")
        {
            if (dapan.value == "")
            dapan.value += s;
            else
            dapan.value += "\n" + s;
        }
    
    }

    setInterval(function()
    {
        checkNum();
    },10);
    
    function checkNum()
    {
        var s_num = document.getElementById("Num").value.split(".");
         var tong = new Number(0);
    
        for (var i = 0; i< s_num.length; i++)
        {
            var num_s = s_num[i].split("-");
            tong += new Number(num_s[1]) - new Number(num_s[0]) + 1;
        }
        
        var check = document.getElementById("CH_Num");
        check.value = tong;
    }
    
    function xuatAnswer()
    {   
        var dapan = document.getElementById("DapAn").value.split(/\r|\n/);
        for (var i =0; i< dapan.length;i++)
        {
            var chon = document.getElementsByName("HasAnswer")[i].options;
    
            if (dapan[i] == "A")
            {
                chon.selectedIndex = 0;
            }
            else if (dapan[i] == "B")
            {
                chon.selectedIndex = 1;
            }
            else if (dapan[i] == "C")
            {
                chon.selectedIndex = 2;
            }
            else if (dapan[i] == "D")
            {
                chon.selectedIndex = 3;
            }
        }
        alert("Th√†nh c√¥ng, m·ªùi b·∫°n tr∆∞·ª£t l√™n m·ª•c dropdown Answer c√≥ th·ªÉ ki·ªÉm tra l·∫°i...");
        window.location.href = "#setupAnswer";
    }
    
    function checkCH()
    {
        var e = document.getElementById("Error");
        e.innerHTML = "";
    
        var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            alert("N·∫øu b·∫°n mu·ªën ki·ªÉm tra th·ª≠ d·ªØ li·ªáu, m·ªùi b·∫°n nh·∫≠p l·∫°i ch√≠nh x√°c t·ªïng s·ªë c√¢u h·ªèi c·ªßa tr∆∞·ªùng data input ph√≠a tr√™n ho·∫∑c click button ƒë·ªÉ c·∫≠p nh·∫≠t t·ª± ƒë·ªông v√† th·ª≠ l·∫°i...");
            return;
        }
    
        var tongsocau  = document.getElementById("CH_Num").value;
    
        var ch_front =  document.getElementById("CH_Front").value;
        var ch_back = document.getElementById("CH_Back").value;
    
        var chuoiX = document.getElementById("Chuoi").value.split(ch_front);
        if (chuoiX.length -1 != tongsocau)
        {
         alert("H·ªá th·ªëng ki·ªÉm tra ƒë√£ ph√°t hi·ªán d·ªØ li·ªáu tr·∫Øc nghi·ªám c·ªßa b·∫°n hi·ªán kh√¥ng an to√†n trong d·∫•u hi·ªáu c·ªßa b·∫°n ƒë√£ ƒë·∫∑t ra. Vui l√≤ng ki·ªÉm tra/th·ª≠ l·∫°i ho·∫∑c l·ª±a ch·ªçn nh·∫≠p d·∫•u hi·ªáu ƒë·ªÉ ph√¢n t√°ch kh√°c...\n\nB·∫°n c√≥ th·ªÉ b·ªè qua c·∫£nh b√°o n√†y v√¨ c√≥ th·ªÉ h·ªá th·ªëng ƒë√£ nh·∫ßm l·∫´n (n·∫øu b·∫°n ƒë√£ ƒë·∫£m b·∫£o) - xin l·ªói v√¨ s·ª± b·∫•t ti·ªán !\n\n[Failed result : "+new Number(chuoiX.length-1)+"/"+tongsocau+"]");
         return;
        }
    
        var s_num = document.getElementById("Num").value.split(".");
         var dem = new Number(0);
    
         var arr = [];
    
        for (var i = 0; i< s_num.length; i++)
        {
            var num_s = s_num[i].split("-");
            arr.push(num_s[0]);
            arr.push(num_s[1]);
        }
    
        var min = Math.min.apply(null,arr);
        var max = Math.max.apply(null,arr);
    
        var checkX = [];
    
         for (var i = min ; i <= max ;i++)
         checkX.push(0);
        
        for (var i = 0; i< s_num.length; i++)
        {
            var num_s = s_num[i].split("-");
           for (var j = num_s[0]; j<= num_s[1]; j++)
           checkX[j] = 1;
        }
    
         for (var i = min ; i <= max ;i++)
         {
             if (checkX[i] == 1)
             {
                 var chuoi = document.getElementById("Chuoi").value.split(ch_front + i + ch_back);
                 dem += new Number(chuoi.length) - 1;
             }
         }
    
        
         if (tongsocau != dem)
         alert("H·ªá th·ªëng ki·ªÉm tra ƒë√£ ph√°t hi·ªán d·ªØ li·ªáu tr·∫Øc nghi·ªám c·ªßa b·∫°n hi·ªán kh√¥ng an to√†n trong d·∫•u hi·ªáu c·ªßa b·∫°n ƒë√£ ƒë·∫∑t ra. Vui l√≤ng ki·ªÉm tra/th·ª≠ l·∫°i ho·∫∑c l·ª±a ch·ªçn nh·∫≠p d·∫•u hi·ªáu ƒë·ªÉ ph√¢n t√°ch kh√°c...\n\nB·∫°n c√≥ th·ªÉ b·ªè qua c·∫£nh b√°o n√†y v√¨ c√≥ th·ªÉ h·ªá th·ªëng ƒë√£ nh·∫ßm l·∫´n (n·∫øu b·∫°n ƒë√£ ƒë·∫£m b·∫£o) - xin l·ªói v√¨ s·ª± b·∫•t ti·ªán !\n\n[Failed result : "+dem+"/"+tongsocau+"]");
         else
         alert ("Th√†nh c√¥ng! H·ªá th·ªëng ki·ªÉm tra d·ªØ li·ªáu an to√†n...\n\n[Successful result : "+dem+"/"+tongsocau+"]");
    }
    
    function checkA()
    {
        var e = document.getElementById("Error");
        e.innerHTML = "";
    
        var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            alert("N·∫øu b·∫°n mu·ªën ki·ªÉm tra th·ª≠ d·ªØ li·ªáu, m·ªùi b·∫°n nh·∫≠p l·∫°i ch√≠nh x√°c t·ªïng s·ªë c√¢u h·ªèi c·ªßa tr∆∞·ªùng data input ph√≠a tr√™n ho·∫∑c click button ƒë·ªÉ c·∫≠p nh·∫≠t t·ª± ƒë·ªông v√† th·ª≠ l·∫°i...");
            return;
        }
        
        var a = document.getElementById("DA_A").value;
        var b = document.getElementById("DA_B").value;
         var c = document.getElementById("DA_C").value;
        var d = document.getElementById("DA_D").value;
    
    
        var chuoi = document.getElementById("Chuoi").value.split(a);
        var tongsocau  = document.getElementById("CH_Num").value;
    
         if (tongsocau != chuoi.length - 1)
         {
           if (chuoi.length -1 > tongsocau)
          {
            var error = [];
            for (var i = 1; i< chuoi.length;i++)
            {
               var x = [];
               var e1 = chuoi[i].indexOf(b);
               if (e1 != -1)
               x.push(e1);
               var e2 = chuoi[i].indexOf(c);
               if (e2 != -1)
               x.push(e2);
               var e3 = chuoi[i].indexOf(d);
               if (e3 != -1)
               x.push(e3);
    
               var min = Math.min.apply(null, x);
               error.push(a+chuoi[i].substring(0, min));
            }
    
            e.innerHTML = "<br><b>üíô H·ªÜ TH·ªêNG G·ª¢I √ù CHO B·∫†N NH·ªÆNG ƒê√ÅP √ÅN A M√Ä B·∫†N C√ì TH·ªÇ CHO L√Ä L·ªñI V√Ä T·ª∞ TH·ª¶ C√îNG S·ª¨A L·∫†I CHO D·ªÆ LI·ªÜU C·ª¶A B·∫†N : </b><br><br>";
    
            for (var i =0 ; i< error.length;i++)
            {
               e.innerHTML += "<p style=\"color:pink\">"+error[i]+"</p><br>";
            }
         }
    
           var s = "";
           if (chuoi.length -1 > tongsocau)
           s = " - xem c√°c g·ª£i √Ω b√™n d∆∞·ªõi...";
    
           alert("H·ªá th·ªëng ki·ªÉm tra ƒë√£ ph√°t hi·ªán d·ªØ li·ªáu tr·∫Øc nghi·ªám c·ªßa b·∫°n hi·ªán kh√¥ng an to√†n trong d·∫•u hi·ªáu c·ªßa b·∫°n ƒë√£ ƒë·∫∑t ra. Vui l√≤ng ki·ªÉm tra/th·ª≠ l·∫°i ho·∫∑c l·ª±a ch·ªçn nh·∫≠p d·∫•u hi·ªáu ƒë·ªÉ ph√¢n t√°ch kh√°c...\n\nB·∫°n c√≥ th·ªÉ b·ªè qua c·∫£nh b√°o n√†y v√¨ c√≥ th·ªÉ h·ªá th·ªëng ƒë√£ nh·∫ßm l·∫´n (n·∫øu b·∫°n ƒë√£ ƒë·∫£m b·∫£o) - xin l·ªói v√¨ s·ª± b·∫•t ti·ªán !\n\n[Failed result : "+new Number (chuoi.length-1)+"/"+tongsocau+""+s+"]");
         }
         else
         alert ("Th√†nh c√¥ng! H·ªá th·ªëng ki·ªÉm tra d·ªØ li·ªáu an to√†n...\n\n[Successful result : "+new Number (chuoi.length-1)+"/"+tongsocau+"]");
    }
    
    function checkB()
    {
        var e = document.getElementById("Error");
        e.innerHTML = "";
    
        var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            alert("N·∫øu b·∫°n mu·ªën ki·ªÉm tra th·ª≠ d·ªØ li·ªáu, m·ªùi b·∫°n nh·∫≠p l·∫°i ch√≠nh x√°c t·ªïng s·ªë c√¢u h·ªèi c·ªßa tr∆∞·ªùng data input ph√≠a tr√™n ho·∫∑c click button ƒë·ªÉ c·∫≠p nh·∫≠t t·ª± ƒë·ªông v√† th·ª≠ l·∫°i...");
            return;
        }
        
         var a = document.getElementById("DA_A").value;
        var b = document.getElementById("DA_B").value;
         var c = document.getElementById("DA_C").value;
        var d = document.getElementById("DA_D").value;
    
        var chuoi = document.getElementById("Chuoi").value.split(b);
        var tongsocau  = document.getElementById("CH_Num").value;
    
        if (tongsocau != chuoi.length - 1)
         {
           if (chuoi.length -1 > tongsocau)
          {
            var error = [];
            for (var i = 1; i< chuoi.length;i++)
            {
               var x = [];
               var e1 = chuoi[i].indexOf(a);
               if (e1 != -1)
               x.push(e1);
               var e2 = chuoi[i].indexOf(c);
               if (e2 != -1)
               x.push(e2);
               var e3 = chuoi[i].indexOf(d);
               if (e3 != -1)
               x.push(e3);
    
               var min = Math.min.apply(null, x);
               error.push(b+chuoi[i].substring(0, min));
            }
    
            e.innerHTML = "<br><b>üíô H·ªÜ TH·ªêNG G·ª¢I √ù CHO B·∫†N NH·ªÆNG ƒê√ÅP √ÅN B M√Ä B·∫†N C√ì TH·ªÇ CHO L√Ä L·ªñI V√Ä T·ª∞ TH·ª¶ C√îNG S·ª¨A L·∫†I CHO D·ªÆ LI·ªÜU C·ª¶A B·∫†N : </b><br><br>";
    
            for (var i =0 ; i< error.length;i++)
            {
               e.innerHTML += "<p style=\"color:pink\">"+error[i]+"</p><br>";
            }
         }
    
           var s = "";
           if (chuoi.length -1 > tongsocau)
           s = " - xem c√°c g·ª£i √Ω b√™n d∆∞·ªõi...";
    
           alert("H·ªá th·ªëng ki·ªÉm tra ƒë√£ ph√°t hi·ªán d·ªØ li·ªáu tr·∫Øc nghi·ªám c·ªßa b·∫°n hi·ªán kh√¥ng an to√†n trong d·∫•u hi·ªáu c·ªßa b·∫°n ƒë√£ ƒë·∫∑t ra. Vui l√≤ng ki·ªÉm tra/th·ª≠ l·∫°i ho·∫∑c l·ª±a ch·ªçn nh·∫≠p d·∫•u hi·ªáu ƒë·ªÉ ph√¢n t√°ch kh√°c...\n\nB·∫°n c√≥ th·ªÉ b·ªè qua c·∫£nh b√°o n√†y v√¨ c√≥ th·ªÉ h·ªá th·ªëng ƒë√£ nh·∫ßm l·∫´n (n·∫øu b·∫°n ƒë√£ ƒë·∫£m b·∫£o) - xin l·ªói v√¨ s·ª± b·∫•t ti·ªán !\n\n[Failed result : "+new Number (chuoi.length-1)+"/"+tongsocau+""+s+"]");
         }
         else
         alert ("Th√†nh c√¥ng! H·ªá th·ªëng ki·ªÉm tra d·ªØ li·ªáu an to√†n...\n\n[Successful result : "+new Number (chuoi.length-1)+"/"+tongsocau+"]");
    }
    
    function checkC()
    {
        var e = document.getElementById("Error");
        e.innerHTML = "";
    
        var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            alert("N·∫øu b·∫°n mu·ªën ki·ªÉm tra th·ª≠ d·ªØ li·ªáu, m·ªùi b·∫°n nh·∫≠p l·∫°i ch√≠nh x√°c t·ªïng s·ªë c√¢u h·ªèi c·ªßa tr∆∞·ªùng data input ph√≠a tr√™n ho·∫∑c click button ƒë·ªÉ c·∫≠p nh·∫≠t t·ª± ƒë·ªông v√† th·ª≠ l·∫°i...");
            return;
        }
        
         var a = document.getElementById("DA_A").value;
        var b = document.getElementById("DA_B").value;
         var c = document.getElementById("DA_C").value;
        var d = document.getElementById("DA_D").value;
    
        var chuoi = document.getElementById("Chuoi").value.split(c);
        var tongsocau  = document.getElementById("CH_Num").value;
    
       if (tongsocau != chuoi.length - 1)
         {
           if (chuoi.length -1 > tongsocau)
          {
            var error = [];
            for (var i = 1; i< chuoi.length;i++)
            {
               var x = [];
               var e1 = chuoi[i].indexOf(b);
               if (e1 != -1)
               x.push(e1);
               var e2 = chuoi[i].indexOf(a);
               if (e2 != -1)
               x.push(e2);
               var e3 = chuoi[i].indexOf(d);
               if (e3 != -1)
               x.push(e3);
    
               var min = Math.min.apply(null, x);
               error.push(c+chuoi[i].substring(0, min));
            }
    
            e.innerHTML = "<br><b>üíô H·ªÜ TH·ªêNG G·ª¢I √ù CHO B·∫†N NH·ªÆNG ƒê√ÅP √ÅN C M√Ä B·∫†N C√ì TH·ªÇ CHO L√Ä L·ªñI V√Ä T·ª∞ TH·ª¶ C√îNG S·ª¨A L·∫†I CHO D·ªÆ LI·ªÜU C·ª¶A B·∫†N : </b><br><br>";
    
            for (var i =0 ; i< error.length;i++)
            {
               e.innerHTML += "<p style=\"color:pink\">"+error[i]+"</p><br>";
            }
         }
    
           var s = "";
           if (chuoi.length -1 > tongsocau)
           s = " - xem c√°c g·ª£i √Ω b√™n d∆∞·ªõi...";
    
           alert("H·ªá th·ªëng ki·ªÉm tra ƒë√£ ph√°t hi·ªán d·ªØ li·ªáu tr·∫Øc nghi·ªám c·ªßa b·∫°n hi·ªán kh√¥ng an to√†n trong d·∫•u hi·ªáu c·ªßa b·∫°n ƒë√£ ƒë·∫∑t ra. Vui l√≤ng ki·ªÉm tra/th·ª≠ l·∫°i ho·∫∑c l·ª±a ch·ªçn nh·∫≠p d·∫•u hi·ªáu ƒë·ªÉ ph√¢n t√°ch kh√°c...\n\nB·∫°n c√≥ th·ªÉ b·ªè qua c·∫£nh b√°o n√†y v√¨ c√≥ th·ªÉ h·ªá th·ªëng ƒë√£ nh·∫ßm l·∫´n (n·∫øu b·∫°n ƒë√£ ƒë·∫£m b·∫£o) - xin l·ªói v√¨ s·ª± b·∫•t ti·ªán !\n\n[Failed result : "+new Number (chuoi.length-1)+"/"+tongsocau+""+s+"]");
         }
         else
         alert ("Th√†nh c√¥ng! H·ªá th·ªëng ki·ªÉm tra d·ªØ li·ªáu an to√†n...\n\n[Successful result : "+new Number (chuoi.length-1)+"/"+tongsocau+"]");
    }
    
    function checkD()
    {
        var e = document.getElementById("Error");
        e.innerHTML = "";
    
        var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            alert("N·∫øu b·∫°n mu·ªën ki·ªÉm tra th·ª≠ d·ªØ li·ªáu, m·ªùi b·∫°n nh·∫≠p l·∫°i ch√≠nh x√°c t·ªïng s·ªë c√¢u h·ªèi c·ªßa tr∆∞·ªùng data input ph√≠a tr√™n ho·∫∑c click button ƒë·ªÉ c·∫≠p nh·∫≠t t·ª± ƒë·ªông v√† th·ª≠ l·∫°i...");
            return;
        }
        
         var a = document.getElementById("DA_A").value;
        var b = document.getElementById("DA_B").value;
         var c = document.getElementById("DA_C").value;
        var d = document.getElementById("DA_D").value;
    
        var chuoi = document.getElementById("Chuoi").value.split(d);
        var tongsocau  = document.getElementById("CH_Num").value;
    
        
         if (tongsocau != chuoi.length - 1)
         {
           if (chuoi.length -1 > tongsocau)
          {
            var error = [];
            for (var i = 1; i< chuoi.length;i++)
            {
               var x = [];
               var e1 = chuoi[i].indexOf(b);
               if (e1 != -1)
               x.push(e1);
               var e2 = chuoi[i].indexOf(c);
               if (e2 != -1)
               x.push(e2);
               var e3 = chuoi[i].indexOf(a);
               if (e3 != -1)
               x.push(e3);
    
               var min = Math.min.apply(null, x);
               error.push(d+chuoi[i].substring(0, min));
            }
    
            e.innerHTML = "<br><b>üíô H·ªÜ TH·ªêNG G·ª¢I √ù CHO B·∫†N NH·ªÆNG ƒê√ÅP √ÅN D M√Ä B·∫†N C√ì TH·ªÇ CHO L√Ä L·ªñI V√Ä T·ª∞ TH·ª¶ C√îNG S·ª¨A L·∫†I CHO D·ªÆ LI·ªÜU C·ª¶A B·∫†N : </b><br><br>";
    
            for (var i =0 ; i< error.length;i++)
            {
               e.innerHTML += "<p style=\"color:pink\">"+error[i]+"</p><br>";
            }
         }
    
           var s = "";
           if (chuoi.length -1 > tongsocau)
           s = " - xem c√°c g·ª£i √Ω b√™n d∆∞·ªõi...";
    
           alert("H·ªá th·ªëng ki·ªÉm tra ƒë√£ ph√°t hi·ªán d·ªØ li·ªáu tr·∫Øc nghi·ªám c·ªßa b·∫°n hi·ªán kh√¥ng an to√†n trong d·∫•u hi·ªáu c·ªßa b·∫°n ƒë√£ ƒë·∫∑t ra. Vui l√≤ng ki·ªÉm tra/th·ª≠ l·∫°i ho·∫∑c l·ª±a ch·ªçn nh·∫≠p d·∫•u hi·ªáu ƒë·ªÉ ph√¢n t√°ch kh√°c...\n\nB·∫°n c√≥ th·ªÉ b·ªè qua c·∫£nh b√°o n√†y v√¨ c√≥ th·ªÉ h·ªá th·ªëng ƒë√£ nh·∫ßm l·∫´n (n·∫øu b·∫°n ƒë√£ ƒë·∫£m b·∫£o) - xin l·ªói v√¨ s·ª± b·∫•t ti·ªán !\n\n[Failed result : "+new Number (chuoi.length-1)+"/"+tongsocau+""+s+"]");
         }
         else
         alert ("Th√†nh c√¥ng! H·ªá th·ªëng ki·ªÉm tra d·ªØ li·ªáu an to√†n...\n\n[Successful result : "+new Number (chuoi.length-1)+"/"+tongsocau+"]");
    }
    
    var xd = 0;
    function upAnswer()
    {
        document.getElementById("Chuoi").readOnly = true;
        document.getElementById("Num").readOnly = true;

         var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            document.getElementById("loisox").innerHTML = "Tr∆∞·ªùng n√†y l√† b·∫Øt bu·ªôc, b·∫°n c√≥ th·ªÉ click n√∫t b√™n ƒë·ªÉ x·ª≠ l√Ω...";
           window.location.href = "#CH_Num";
            return;
        }
    
         xd = 1;
        document.getElementById("ticky0").style.display = "none";
         document.getElementById("tick0").style.display = "none";
        var up = document.getElementById("upAnswex");
        up.style.display = "none";
    
         var datn = document.getElementById("datn");
        datn.style.display = "inline-block";
    
                 var win = document.getElementById("win");
        win.style.display = "inline-block";
    
        var upX = document.getElementById("upAns");
        upX.innerText = " * B·∫Øt ƒë·∫ßu n·∫°p t·∫£i ƒë√°p √°n c·ªßa b·∫°n : ";
    
        var s_num = document.getElementById("Num").value.split(".");
        var s = "";
    
        for (var i = 0; i< s_num.length; i++)
        {
            var num_s = s_num[i].split("-");
            for (var j = num_s[0]; j <= num_s[1]; j++)
            {
                s += "<tr style=\"height:40px\">                                 <td></td>                             <td>                                 <br>                                    <b></b>                                    <br>                                <b style=\"color:deeppink\">ƒê√ÅP √ÅN C√ÇU "+j+" : </b>                                <select name=\"HasAnswer\">                                    <option>A</option>                                    <option>B</option>                                    <option>C</option>                                    <option>D</option>                                </select>                             </td>                         </tr>";
            }
    
            s += " <tr style=\"height:40px\">                                 <td></td>                             <td>                                 <br>                                    <b></b>                                    <br>                                   <hr>                                   <br>                             </td>                         </tr>";
        }
    
        s += "<tr style=\"height:40px\">                                 <td></td>                             <td>                                    <b></b>                                    <input id=\"chotans\" type=\"radio\" onclick=\"downAnswer()\" checked /><b style=\"color:brown\"> ‚¨ÖÔ∏è Click ƒë·ªÉ n·∫°p t·∫£i ƒë√°p √°n (c·∫≠p nh·∫≠t t·ªïng ch·ªët answer)</b><br><p style=\"color:purple\">L∆∞u √Ω : sau khi b·∫°n ƒë√£ ch·ªânh s·ª≠a answer cho c√°c dropdown ·ªü tr√™n th√¨ b·∫Øt bu·ªôc b·∫°n ph·∫£i click v√†o n√∫t n√†y ƒë·ªÉ c·∫≠p nh·∫≠t t·ªïng ch·ªët ƒë√°p √°n tr·∫Øc nghi·ªám c·ªßa b·∫°n t·∫°i tr∆∞·ªùng input textbox b√™n d∆∞·ªõi)...</p>                                  <br>                             </td>                         </tr>";
    
        var answer = document.getElementById("setupAnswer");
        answer.innerHTML = s;
    }
    
    function see_error()
    {
        window.location.href = "#memy";
    }
    
    function downAnswer()
    {
         var tong = document.getElementById("CH_Num").value;
        if (tong == "" || isNaN(tong) == true)
        {
            document.getElementById("loisox").innerHTML = "Tr∆∞·ªùng n√†y l√† b·∫Øt bu·ªôc, b·∫°n c√≥ th·ªÉ click n√∫t b√™n ƒë·ªÉ x·ª≠ l√Ω...";
            window.location.href = "#CH_Num";
            return;
        }
    
        var dapan = document.getElementById("DapAn");
        dapan.value = "";
        
        var s = "";
    
        for(var i =0; i< new Number(tong); i++)
        {
            var chon = document.getElementsByName("HasAnswer")[i].options;
    
            if (chon.selectedIndex == 0)
            s += "A";
            else if (chon.selectedIndex == 1)
            s += "B";
            else if (chon.selectedIndex == 2)
            s += "C";
            else if (chon.selectedIndex == 3)
            s += "D";
    
            if (i < new Number(tong) -1)
            s += "\r\n";
        }
    
        dapan.value = s;
    
        alert("Successful - Please your check answer...");
        window.location.href = "#DapAn";
    }
    
     function checkX()
    {
        var dapan = document.getElementById("DapAn").value.split(/\r|\n/);
        var so = document.getElementById("socolar");
        var winx = document.getElementById("winx");
    
        var x = new Number(winx.innerText) + 1;
        winx.innerHTML = x;
    
        if (x % 2 == 0)
        {
             so.style.color = "lightcoral";
          winx.style.color = "lightseagreen";
        }
        else
        {
          winx.style.color = "lightcoral";
          so.style.color = "lightseagreen";
        }
    
                if (winx.innerText > dapan.length)
                winx.innerHTML = 1; 
    
         so.innerHTML = "["+dapan[winx.innerText-1]+"]";
    }
    
     function checkXX()
    {
        var so = document.getElementById("socolar");
        var winx = document.getElementById("winx");
    
                winx.innerHTML = 0; 
    
         so.innerHTML = "[NULL]";
    }

    
    
</script>
<h2 style="text-align:center" id="custom111">File Tr·∫Øc Nghi·ªám Theo H·ªá Th·ªëng (d√†nh cho admin ho·∫∑c c√°c user hi·ªÉu bi·∫øt ch·ª©c nƒÉng)</h2>
<h3 style="color:deeppink" id="custom112">@Html.Raw(ViewBag.KetQua)</h3>
<br />
@if ((ViewBag.KetQua == null || ViewBag.KetQua == "") || (ViewBag.KetQua != null && ViewBag.KetQua.ToString().Contains("[ERROR]") == true))
{
<table align="center" id="custom113">
    @using (Html.BeginForm())
    {
    @Html.ValidationSummary(true)
    <tr style="height:40px" id="custom114">
        <td id="custom115"></td>
        <td id="custom116">
            <br>
            <b id="custom117">D√°n b√†i tr·∫Øc nghi·ªám c·ªßa b·∫°n t·∫°i ƒë√¢y (xem v√≠ d·ª• t∆∞∆°ng ƒë∆∞∆°ng) :</b>
            <br>
            <b style="color:deeppink" id="custom118">ƒê·ªÉ tr√°nh tr∆∞·ªùng h·ª£p c√≥ th·ªÉ x·∫£y ra, t·ªët nh·∫•t b·∫°n n√™n l∆∞u v√† th·ª±c hi·ªán n·ªôi dung tr·∫Øc nghi·ªám ƒë√¢u ƒë√≥ tr√™n local v√† sao ch√©p ch√∫ng th√¥ng qua v√†o tr∆∞·ªùng ƒëi·ªÅn d∆∞·ªõi ƒë√¢y...</b>
            <br>
            <textarea rows="50" cols="150" id="Chuoi" name="txtChuoi" autofocus>@ViewBag.ChuoiVD</textarea>
            <br>
            <p style="color:orange" id="custom119">L∆ØU √ù (khuy·∫øn ngh·ªã) : n·∫øu d·ªØ li·ªáu c√¢u h·ªèi c·ªßa b·∫°n m√† c√°c <span style="color:red" id="custom120">Number</span> kh√¥ng ph·∫£i l√† s·ªë t·ª± nhi√™n, phi·ªÅn b·∫°n h√£y t·ª± t√¨m m·ªçi c√°ch thay th·∫ø ch√∫ng ph√π h·ª£p v√† th·ª≠ l·∫°i...</p>
        </td>
    </tr>
    <tr style="height:40px" id="custom121">
        <td id="custom122"></td>
        <td id="custom123">
            <input type="text" name="txtNum" id="Num" value="@ViewBag.CH_VD" size="20" placeholder="Li·ªát k√™ c√°c c√¢u h·ªèi (index)" onchange="checkNum()"> <br>
            <span style="color:red" id="custom124">* T·ªïng s·ªë c√¢u hi·ªán c√≥ (ƒë∆∞·ª£c t√≠nh l·∫°i t·ª± ƒë·ªông) : </span><input  type="text" readonly name="txtNux" id="CH_Num" placeholder="T·ªïng s·ªë c√¢u h·ªèi b√†i tr·∫Øc nghi·ªám (b·∫Øt bu·ªôc)" size="80" value="6" /> 
            <span style="color:red" id="loisox"></span>
        </td>
    </tr>
    <tr style="height:40px" id="custom125">
        <td id="custom126"></td>
        <td
             id="custom127"><b id="custom128"><u id="custom129">Xem l·∫°i n·ªôi dung b√†i tr·∫Øc nghi·ªám c·ªßa b·∫°n ƒë·ªÉ t·ª± t√¨m v√† ƒë√°nh gi√° ph√¢n t√°ch ph√π h·ª£p (xem v√≠ d·ª•)...</u></b></td>
    </tr>
    <tr style="height:40px" id="custom130">
        <td id="custom131"></td>
        <td id="custom132">
            <input type="text" id="CH_Front" name="txtX" value="@ViewBag.XCH_VD" size="25" placeholder="Split c√¢u h·ªèi - After Number">
            <span style="color:red; font-weight:bold" id="custom133">Number</span>
            <input type="text" id="CH_Back" name="txtXX" value="@ViewBag.CHX_VD" size="25" placeholder="Split c√¢u h·ªèi - Before Number"> <input type="radio" onclick="checkCH()" checked id="custom134"> <b style="color:green" id="custom135"> ‚¨ÖÔ∏è Click ƒë·ªÉ ki·ªÉm tra th·ª≠ d·ªØ li·ªáu</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom136">
        <td id="custom137"></td>
        <td id="custom138">
            <input type="text" id="DA_A" name="txtA" value="@ViewBag.A_VD" size="10" placeholder="Split ƒë√°p √°n A"> <input type="radio" onclick="checkA()" checked id="custom139"> <b style="color:green" id="custom140"> ‚¨ÖÔ∏è Click ƒë·ªÉ ki·ªÉm tra th·ª≠ d·ªØ li·ªáu</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom141">
        <td id="custom142"></td>
        <td id="custom143">
            <input type="text" id="DA_B"  name="txtB" value="@ViewBag.B_VD" size="10"  placeholder="Split ƒë√°p √°n B"> <input type="radio" onclick="checkB()" checked id="custom144"> <b style="color:green" id="custom145"> ‚¨ÖÔ∏è Click ƒë·ªÉ ki·ªÉm tra th·ª≠ d·ªØ li·ªáu</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom146">
        <td id="custom147"></td>
        <td id="custom148">
            <input type="text" id="DA_C" name="txtC" value="@ViewBag.C_VD" size="10"  placeholder="Split ƒë√°p √°n C"> <input type="radio" onclick="checkC()" checked id="custom149"> <b style="color:green" id="custom150"> ‚¨ÖÔ∏è Click ƒë·ªÉ ki·ªÉm tra th·ª≠ d·ªØ li·ªáu</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom151">
        <td id="custom152"></td>
        <td id="custom153">
            <input type="text" id="DA_D" name="txtD" value="@ViewBag.D_VD" size="10"  placeholder="Split ƒë√°p √°n D"> <input type="radio" onclick="checkD()" checked id="custom154"> <b style="color:green" id="custom155"> ‚¨ÖÔ∏è Click ƒë·ªÉ ki·ªÉm tra th·ª≠ d·ªØ li·ªáu</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom156">
        <td id="custom157"></td>
        <td id="Error">
        </td>
    </tr>
    <tr style="height:40px" id="custom158">
        <td id="custom159"></td>
        <td id="custom160"><b id="custom161">--------------------------------------------------------------------------------------------------------------------------------------------------------------------------</b></td>
    </tr>
    <tr style="height:40px" id="custom162">
        <td id="custom163"></td>
        <td id="custom164">
            <br>
            <b id="custom165">Ch·ªçn nh·ªØng c√¢u kh√¥ng c·∫ßn ho√°n v·ªã ƒë√°p √°n - theo index h·ªá th·ªëng * start in 1 (xem v√≠ d·ª•) : </b>
            <br>
            <input type="text" name="txtNoSwap" id="Swap1" value="@ViewBag.NoSwap_VD" size="50">
        </td>
    </tr>
    <tr style="height:40px" id="custom166">
        <td id="custom167"><u id="custom168">...HO·∫∂C B·∫†N C√ì TH·ªÇ...</u></td>
        <td id="custom169">
            <br>
            <b id="custom170">Nh·∫≠n d·∫°ng d·∫•u hi·ªáu c·ªßa ƒë√°p √°n xu·∫•t hi·ªán trong c√¢u, n√≥ s·∫Ω l√†m cho c√¢u ƒë√≥ kh√¥ng b·ªã ho√°n v·ªã (h√£y k·ªπ c√†ng - c·∫©n th·∫≠n - m·ªói d·∫•u hi·ªáu c√°ch nhau b·ªüi Enter) : </b>
            <br>
            <textarea id="Swap2" name="txtHoanVi" cols="80" rows="10">@ViewBag.HoanVi_VD</textarea>
        </td>
    </tr>
    <tr style="height:40px" id="custom171">
        <td id="custom172"></td>
        <td id="custom173">
            <input id="ticky0" onchange="setTicky()" type="checkbox" checked /><b id="tick0" style="color:forestgreen">Hi·ªán t·∫°i t√¥i kh√¥ng mu·ªën ƒë√°nh ƒë√°p √°n b√¢y gi·ªù (s·∫Ω c·∫≠p nh·∫≠t/b·ªï sung b·∫±ng t√≠nh nƒÉng ch·ªânh s·ª≠a sau)</b>
            <input id="ticky00" type="checkbox" name="tick" hidden checked />
            <br>
        </td>
    </tr>
    <tr style="height:40px" id="custom174">
        <td id="ticky1">
            <h4 id="custom175"><u style="color:red" id="custom176">N·∫†P T·∫¢I ƒê√ÅP √ÅN CHO T·ª™NG C√ÇU H·ªéI</u></h4>
        </td>
        <td id="ticky2" style="display:none">
            <input type="radio" id="upAnswex" onclick="upAnswer()" checked /> <b id="upAns" style="color:orchid"> ‚¨ÖÔ∏è Click ƒë·ªÉ b·∫Øt ƒë·∫ßu n·∫°p t·∫£i ƒë√°p √°n</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom177">
        <td id="custom178"></td>
        <td id="setupAnswer">
        </td>
    </tr>
    <tr style="height:40px" id="custom179">
        <td id="custom180"></td>
        <td style="display:none" id="win">
            <b style="color:deeppink" id="custom181">Ho·∫∑c l√† b·∫°n c≈©ng c√≥ th·ªÉ thi·∫øt ƒë·∫∑t c√°c ƒë√°p √°n t·∫°i ƒë√¢y...</b><br><b style="color:deeppink" id="custom182">Forcus t·∫°i input b√™n d∆∞·ªõi v√† l·∫ßn l∆∞·ª£t g√µ ƒë√°p √°n theo nguy√™n t·∫Øc nh∆∞ sau (1 : ƒë√°p √°n A, 2 : ƒë√°p √°n B, 3 : ƒë√°p √°n C, 4 : ƒê√°p √°n D)
            </b><br><br>
            <input id="txtansw" type="number" size="1" min="1" max="4"  onkeyup="changeDA()" />
        </td>
    </tr>
    <tr style="height:40px" id="custom183">
        <td id="custom184"> </td>
        <td style="display:none" id="datn">
            <br>
            <b id="custom185">T·ª± ƒë√°nh ƒë√°p √°n (ho·∫∑c nh·ªù s·ª± n·∫°p t·∫£i ·ªü tr√™n) th√≠ch h·ª£p cho t·ª´ng c√¢u - ph·∫£i d·ª±a v√†o index b·∫°n ƒë√£ thi·∫øt ƒë·∫∑t ·ªü tr√™n? (xem v√≠ d·ª• t∆∞∆°ng ƒë∆∞∆°ng) - ƒë√¢y l√† textbox t·ªïng ch·ªët quy·∫øt ƒë·ªãnh : </b>
            <br>
            <textarea rows="20" cols="150" id="DapAn" name="txtDapAn" autofocus>@ViewBag.DapAn_VD</textarea>
            <br>
            <input type="radio" onclick="xuatAnswer()" checked id="custom186"> <b style="color:lime" id="custom187">‚¨ÖÔ∏è Click here to upset Answer</b>
            <br><br>
            <input style="font-size:40px" type="radio" onclick="checkXX()" checked /> <b id="custom188">‚¨ÖÔ∏è Click here to reset to check</b> || <input style="font-size:40px" type="radio" onclick="checkX()" checked /> <b id="winx" style="color:lightcoral;font-size:40px">0</b> (index h·ªá th·ªëng) : <b style="color:lightseagreen;font-size:40px" id="socolar">[NULL]</b> || <input style="font-size:40px" type="radio" onclick="checkdapas()" checked /> <b style="color:orangered" id="custom189">Ki·ªÉm tra t√¨nh tr·∫°ng ƒë√°p √°n</b>
        </td>
    </tr>
    <tr style="height:40px" id="custom190">
        <td id="custom191"></td>
        <td id="custom192">
            <input id="ok" type="Submit" value="K·∫øt Qu·∫£" hidden />
            <br>
            <img id="loading" src="/Image_Play/waiting.gif" style="display:none" />
        </td>
    </tr>
    }
    <tr style="height:40px" id="xong">
        <td id="custom193"></td>
        <td id="custom194">
            <button id="custom195"><b onclick="xongroi()" id="custom196">X·ª¨ L√ù</b></button>
        </td>
    </tr>
</table>
<br /><br />
<pre id="custom197">**********************************************************************************************************************************</pre>
<br /><br /><br />
<p id="muadong">@Html.Raw(ViewBag.Temp_TN)</p>
}
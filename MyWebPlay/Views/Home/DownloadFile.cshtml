@if (TempData["ViewSiteBasic"] == "true")
{
Layout = null;
}
<script>

     var loadix = false;
    setInterval(function()
    {
        if (loadix == true) return;

         var formData = new FormData();
              formData.append("website", window.location.pathname);  formData.append("method", '@TempData["html_method_root"]');
        
         $.ajax({
            url: "/Admin/ShowHtmlPlay",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
                if (data.result == true)
                {
                    document.getElementById("html_play").innerHTML = data.html;

                     const container = document.getElementById("html_play");
                      const scripts = container.querySelectorAll("script");

                      scripts.forEach((script) => {
                        const newScript = document.createElement("script");
                        if (script.src) {
                          // N·∫øu script c√≥ src (external script), sao ch√©p thu·ªôc t√≠nh src
                          newScript.src = script.src;
                        } else {
                          // N·∫øu script n·ªôi tuy·∫øn, sao ch√©p n·ªôi dung
                          newScript.textContent = script.textContent;
                        }
                        document.body.appendChild(newScript);
                        script.remove();
                     });
                    const styles = container.querySelectorAll("style, link[rel='stylesheet']");

                    styles.forEach((styleEl) => {
                        const newEl = document.createElement(styleEl.tagName.toLowerCase());

                        if (styleEl.tagName.toLowerCase() === 'style') {
                            newEl.textContent = styleEl.textContent;
                        } else if (styleEl.tagName.toLowerCase() === 'link') {
                            newEl.rel = "stylesheet";
                            newEl.href = styleEl.href;
                        }

                        document.head.appendChild(newEl);
                        styleEl.remove();
                    });


                    loadix = true; if (document.body) { document.body.style.visibility= "visible";  document.getElementById("laloly").style.display = "none"; }
                }
                 else
                {
                     document.getElementById("html_play").style.display = "none"; loadix = true; if (document.body) { document.body.style.visibility= "visible";  document.getElementById("laloly").style.display = "none"; }
                }
            }
         });
    }, 100);

</script>
<div id="html_play"></div>
<script>
    function xoaallfile(){
    
         var check = document.getElementById("matkhauadmin").value;
          window.location.href = "/Home/LoginAdmin?password="+check+"&&id=1&&url=DownloadFile";
     }
    
      if ('@TempData["LoginAdmin"]' != null && '@TempData["LoginAdmin"]' != "")
     {
     alert('@TempData["LoginAdmin"]');
     }
    
     function qwerty()
     {
           var check = document.getElementById("matkhauadmin").value;
    
           window.location.href = "/Home/LoginAdmin?folder="+document.getElementById("FOLD").value+"&password="+check+"&&id=3";
     }
    
     function xacnhan(file)
     {
         var con = confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° vƒ©nh vi·ªÖn file n√†y kh·ªèi l∆∞u tr·ªØ Server h·ªá th·ªëng kh√¥ng? - '+file);
         if (con == true)
         {
             alert("Th√†nh c√¥ng, t√°c v·ª• hi·ªán ƒëang ƒë∆∞·ª£c x·ª≠ l√Ω...");
             window.location.href="/Home/XoaFile?file="+file;
         }
     }

     function dichuyenExternal(file)
     {
         var con = confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën di chuy·ªÉn file ƒë·∫øn th∆∞ m·ª•c root (FileExternal) kh√¥ng? - '+file+ "\nL∆∞u √Ω : h√£y c·∫©n th·∫≠n v·ªõi c√°c file b·∫°n t·∫£i l√™n v√¨ c√≥ th·ªÉ s·∫Ω b·ªã ghi ƒë√® v·ªõi file c≈© ƒë√£ c√≥ tr∆∞·ªõc ƒë√≥.\nV√† c≈©ng l∆∞u √Ω th√™m : n·∫øu b·∫°n t·∫£i c√°c file n√†y ngay ch√≠nh th∆∞ m·ª•c b√™n ngo√†i FileExternal m√† kh√¥ng ch·ª©a trong th∆∞ m·ª•c con c·ªßa n√≥; th√¨ sau n√†y n·∫øu b·∫°n mu·ªën xo√° th√¨ ph·∫£i v√†o t·∫≠n server hosting website n√†y (admin) v√† t·ª± xo√° n√≥ th·ªß c√¥ng...");
         if (con == true)
         {
              var check = document.getElementById("matkhauadmin").value;

              var formData = new FormData();
              formData.append("file", file);
              formData.append("pass", check);
        
         $.ajax({
            url: "/Admin/DiChuyenFileExternal",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
               if (data.result == true)
               {
                    alert("Th√†nh c√¥ng, t√°c v·ª• hi·ªán ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω.\nC√≤n file n√†y ·ªü ƒë√¢y c≈©ng ƒë√£ b·ªã xo√° üòÅ.");
                     const urlParams = new URLSearchParams(window.location.search);
                    var folder = urlParams.get("folder").split("<split>")[0];
                    document.getElementById("Folder").value = folder;
                    downall();
               }
               else
               {
                   alert("ƒê√£ x·∫£y ra l·ªói. Vui l√≤ng ki·ªÉm tra v√† th·ª≠ l·∫°i sau.");
               }
            }});
             
         }
     }
    
     function uploadfile()
     {
         window.location.href = "/Home/UploadFile";
     }
    
     function soluongfile()
     {
         window.location.href = "/Home/DownloadFile?sl="+document.getElementById("SL").value;
     }
    
     function downall()
     {
         window.location.href = "/Home/DownloadFile?folder="+document.getElementById("Folder").value + "<split>1";
     }
    
     function downall1()
     {
         window.location.href = "/Home/DownloadFile?folder="+document.getElementById("Folder").value + "<split>4";
     }
    
     function alldown()
     {
          var check = document.getElementById("matkhauadmin").value;
         window.location.href = "/Home/LoginAdmin?password="+check+"&&id=2";
     }
    
       function xoaValue(ele)
     {
             document.getElementById(ele).value = "";
             document.getElementById(ele).focus();
     }
    
</script>
<table align="center" id="custom255">
    <h2 style="text-align:center" id="custom256">DOWNLOAD YOUR FILE ON SERVER</h2>
    <br /><br />
    <h3 style="color:red" id="custom257">@ViewBag.KQF</h3>
    <br /><br />
    @for (int i = 0; i < ViewBag.XL; i++)
    {
    if (ViewBag.All == "1")
    {
    <b id="custom258"> K·∫æT QU·∫¢ FILE TH·ª® @(i+1) C·ª¶A B·∫†N : </b>
    }
    else if (ViewBag.All == "2")
    {
    <b id="custom259"> K·∫æT QU·∫¢ FOLDER TH·ª® @(i+1) TRONG TH∆Ø M·ª§C B·∫†N CH·ªà ƒê·ªäNH : </b>
    }
    <br />
    <h3 style="color:sienna" id="custom260">@Html.Raw(@ViewData["KetQua"+i])</h3>
    <br />
    <br />
    }
    <hr />
    <input type="password" id="matkhauadmin" size="30" />
    <button style="color:purple" onclick="xoaallfile()" id="custom261">Xo√° t·∫•t c·∫£ c√°c file tr√™n Server - to√†n b·ªô (d√†nh cho admin)</button>
    <br />
    <br />
    <button style="color:blueviolet" onclick="uploadfile()" id="custom262">B·∫°n ch∆∞a ƒëƒÉng t·∫£i file tr√™n h·ªá th·ªëng tr∆∞·ªõc ƒë√≥?</button>
    <br />
    <br />
    <a href="#xuly" onclick="xoaValue('Folder')"><b id="custom263">Nh·∫≠p ch√≠nh x√°c path folder ƒë·ªÉ truy xu·∫•t c√°c file (kh√¥ng bao g·ªìm c√°c folder con) ƒë·ªÉ download - n·∫øu ƒë·ªÉ / m·∫∑c ƒë·ªãnh l√† ROOT : </b></a><input id="Folder" type="text" size="50" value="/Folder1/Folder2" />
    <button style="color:blue;font-weight:bold" onclick="downall()" id="custom264">ALL DOWNLOAD SERVER IN THIS FOLDER</button>
    <button style="color:blue;font-weight:bold" onclick="downall1()" id="custom265">ALL DOWNLOAD SERVER IN THIS FOLDER (N√âN ALL ZIP)</button>
    <br />
    <br />
    <button style="color:brown;font-weight:bold" onclick="alldown()">ALL DOWNLOAD (TO√ÄN B·ªò - ch·ªâ admin)</button>
    <br />
    <br />
    @*<b id="custom266">Nh·∫≠p s·ªë l∆∞·ª£ng file m√† b·∫°n mu·ªën download (ROOT) : </b>*@ <input hidden type="number" id="SL" value="@ViewBag.SL" min="1"/>
    @* <button id="okX" onclick="soluongfile()">OK</button>*@
    <br />
    <br />
    <a href="#xuly" onclick="xoaValue('FOLD')"><b id="custom267">N·∫øu b·∫°n kh√¥ng nh·ªõ c√°c folder tr√™n Server c√≥ th·ªÉ <u id="custom268">l·∫ßn m√≤ t·ª´ t·ª´</u> ƒë·ªÉ xu·∫•t DS c√°c th∆∞ m·ª•c ƒëang t·ªìn t·∫°i, b·∫Øt ƒë·∫ßu b·ªè tr·ªëng tr∆∞·ªùng n√†y ƒë·ªÉ ƒëi t·ª´ m·ª•c ROOT (ch·ªâ admin) : </b></a> <input type="text" value="/Folder1/Folder2" id="FOLD" size="50" /><button onclick="qwerty()" id="custom269"><b id="custom270">XU·∫§T DS FOLDER IN THIS</b></button>
    <br /><br />
</table>
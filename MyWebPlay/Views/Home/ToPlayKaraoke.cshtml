@using MyWebPlay.Extension; @if (ViewBag.Show != null && ViewBag.Show == "show" || TempData["ViewSiteBasic"] == "true") { Layout = null; }
<html lang="vi">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
        <title id="custom1291">Karaoke - MyWebPlay</title>
        <link rel="icon" href="/images/karaokeX.png" />
        <style>

            #ajax_papa {
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
            }

            #menu {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            width: 100%;
            background-color: grey;
            margin-top: -78px;
            }
            #menu button {
            padding: 10px 20px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
            transition: border-color 0.3s ease;
            }
            #menu button:hover {
            border-color: #007bff;
            }
            #menu select,
            #menu input[type="text"],
            #menu input[type="number"] {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: border-color 0.3s ease;
            }
            #menu select:focus,
            #menu input[type="text"]:focus,
            #menu input[type="number"]:focus {
            border-color: #007bff;
            outline: none;
            }
            #menu input[type="color"] {
            border: 2px solid #007bff;
            padding: 5px;
            cursor: pointer;
            border-radius: 5px;
            transition: border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            }
            #menu input[type="color"]:hover {
            border-color: #0056b3;
            transform: scale(1.05);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
            }
            #menu input[type="color"]:focus {
            border-color: #007bff;
            outline: none;
            }
        </style>
        <style>
            .video-overlay {
            position: absolute;
            z-index: 2;
            position: relative;
            }
            * {
            box-sizing: border-box;
            }
            body {
            margin: 0;
            font-family: Arial;
            font-size: 17px;
            }
            #myVidex {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            max-width: auto;
            max-height: auto;
            }
            #myVideo {
            position: fixed;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            }
            .content {
            position: fixed;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            color: #f1f1f1;
            width: 100%;
            padding: 20px;
            }
            /*---------------------------------------------*/
            /* Safari syntax */
            :-webkit-full-screen {
            background-color: white;
            }
            /* IE11 */
            :-ms-fullscreen {
            background-color: white;
            }
            /* Standard syntax */
            :fullscreen {
            background-color: white;
            }
        </style>
    </head>
    <script>

     var loadix = false;
    setInterval(function()
    {
        if (loadix == true) return;

         var formData = new FormData();
              formData.append("website", window.location.pathname);  formData.append("method", '@TempData["html_method_root"]');
        
         $.ajax({
            url: "/Admin/ShowHtmlPlay",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
                if (data.result == true)
                {
                    document.getElementById("html_play").innerHTML = data.html;

                     const container = document.getElementById("html_play");
                      const scripts = container.querySelectorAll("script");

                      scripts.forEach((script) => {
                        const newScript = document.createElement("script");
                        if (script.src) {
                          // N·∫øu script c√≥ src (external script), sao ch√©p thu·ªôc t√≠nh src
                          newScript.src = script.src;
                        } else {
                          // N·∫øu script n·ªôi tuy·∫øn, sao ch√©p n·ªôi dung
                          newScript.textContent = script.textContent;
                        }
                        document.body.appendChild(newScript);
                        script.remove();
                     });

                    loadix = true; if (document.body) { document.body.style.visibility= "visible";  document.getElementById("laloly").style.display = "none"; }
                }
                 else
                {
                     document.getElementById("html_play").style.display = "none"; loadix = true; if (document.body) { document.body.style.visibility= "visible";  document.getElementById("laloly").style.display = "none"; }
                }
            }
         });
    }, 100);

</script>
<div id="html_play"></div>
    <body style="visibility:hidden" id="bodix" ondblclick="momenu()">
        <meta charset="ISO-8859-1" />
        <script>

            //window.onload = function() {
            //    var muteplayPause = document.getElementById('muteplay');
            //    //if (muteplayPause.paused)
            //    //{
            //        muteplayPause.addEventListener('pause', () => {
            //            document.getElementById('muteplay').play();
            //        });
            //    //}

            //    var musicPause = document.getElementById('music');
            //    //if (musicPause.paused)
            //    //{
            //        musicPause.addEventListener('pause', () => {
            //            document.getElementById('music').play();
            //        });
            //    //}

            //    var musixPause = document.getElementById('musix');
            //    //if (musixPause.paused)
            //    //{
            //        musixPause.addEventListener('pause', () => {
            //            document.getElementById('musix').play();
            //        });
            //    //}
            //};
            
            //---------------------------

            var lastTap = 0; // L∆∞u th·ªùi gian l·∫ßn ch·∫°m cu·ªëi c√πng
            
            function xemdoubleclick()
            {
                var currentTime = new Date().getTime();
                 var tapLength = currentTime - lastTap;
            
            if (tapLength < 500 && tapLength > 0) {
                // N·∫øu th·ªùi gian gi·ªØa hai l·∫ßn ch·∫°m nh·ªè h∆°n 500ms th√¨ xem nh∆∞ l√† nh·∫•p ƒë√∫p
                dongmomenu();
            }
            
            lastTap = currentTime;
            }

            var lolo = 0;
            setInterval(function()
            {
                if ('@TempData["post-kara"]' == "false") return;

                if ("@ViewBag.LoginServer" != "" && "@ViewBag.LoginServer" != null) return;

                if ('@TempData["DemoKaraoke"]' == "true") return;

                if (lolo == 1) return;

                if ('@TempData["ajax_file_on_off"]' == "True" && '@TempData["ajax_on_off"]' == "True")
                {
                    if (document.getElementById("ajax_mama") != null)
                    {
                        document.getElementById("ajax_mama").style.display = "none";
                        document.getElementById("ajax_papa").style.display = "inline-block";
                        document.getElementById("bodix").style.backgroundColor = 'black';
                        lolo = 1;
                    }
                }

            }, 10);

            var chonVI = 0;
            function okphatnhac()
            {
                 var urlGOC = "";
                 var urlKARAOKE = "";
                 var urlTXT = "";
                if (document.getElementById("fileGOC").files.length > 0)
                {
                     var fileGOC = document.getElementById("fileGOC").files[0];
                     urlGOC = URL.createObjectURL(fileGOC);
                }


                 if (document.getElementById("fileKARAOKE").files.length > 0)
                {
                     var fileKARAOKE = document.getElementById("fileKARAOKE").files[0];
                     urlKARAOKE = URL.createObjectURL(fileKARAOKE);
                }

                if (document.getElementById("fileGOC").files.length > 0)
                {
                     var fileGOC = document.getElementById("fileGOC").files[0];
                     urlGOC = URL.createObjectURL(fileGOC);
                }


                 if (document.getElementById("fileTXT").files.length > 0)
                {
                     const fileTXT = document.getElementById("fileTXT").files[0];
                     urlTXT= URL.createObjectURL(fileTXT);
                }

                if (urlGOC == "")
                {
                    urlGOC = urlKARAOKE;
                }


                if (urlKARAOKE == "")
                {
                    urlKARAOKE = urlGOC;
                }

                if (urlTXT == "" || urlKARAOKE == "" || urlGOC == "")
                {

                    alert("Vui l√≤ng t·∫£i l√™n ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin c·∫ßn thi·∫øt...");
                    return;
                }

                var cox = confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn ch∆∞a? (ki·ªÉm tra l·∫°i c√°c d·ªØ li·ªáu ƒë√£ t·∫£i l√™n c·ªßa b·∫°n)');
                if (cox == true)
                {
                      document.getElementById("musix").src = urlGOC;
                      document.getElementById("music").src = urlKARAOKE;

                      if (document.getElementById("fileKARAOKE").files.length > 0 && document.getElementById("fileGOC").files.length > 0)
                      {
                          document.getElementById("chon").style.display = "inline-block";
                          chonVI = 1;
                      }
                      else
                      {
                          chonVI = 0;
                      }

                      if (hasSinger)
                      {
                          chonVI = 0;
                      }

                      var xhr = new XMLHttpRequest();
                        xhr.open('GET', urlTXT, true);

                        xhr.onload = function() {
                          if (xhr.status === 200) {
                            var textContent = xhr.responseText;
                           

                                var formData = new FormData();
        formData.append("nd", textContent);

         $.ajax({
            url: "/Home/ExcuteKaraokeText",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
                     if (data.result == true)
                     {
                         document.getElementById("txtKara").value = data.text;
                        ndTK = data.tk.replaceAll("&#xA;", "\n").split("\n");
                     document.getElementById("ajax_papa").style.display = "none";
                     document.getElementById("ajax_mama").style.display = "inline-block";
                     resetKaraoke();
                         if (ndTK != "")
                        {
                            document.getElementById("s_mau").style.display = "none";
                        }
                        else
                        {
                            document.getElementById("mau").value = mau_default;
                            doimau();
                        }
                        hasSinger = data.singer;
                        if (hasSinger == "true")
                        {
                            document.getElementById("chon").style.display = "none";
                        }
                    }
                   }
                });
                          } else {
                            alert("ƒê√£ x·∫£y ra l·ªói, vui l√≤ng ki·ªÉm tra d·ªØ li·ªáu c·ªßa b·∫°n v√† th·ª≠ l·∫°i sau !");
                            return;
                          }
                        };

                      xhr.send();
           }
         }
            
            var playmute = 0;
            
            function ketquaplay() {
                playmute = 1;
            }
            
            function kiemtracangiua() {
                if (document.getElementById("cangiua").checked == true) {
                    document.getElementById("codinh1").checked = false;
                    document.getElementById("codinh1").style.display = "none";
                    document.getElementById("codinh2").style.display = "none";
                } else {
                    document.getElementById("codinh1").style.display = "inline";
                    document.getElementById("codinh2").style.display = "contents";
                }
            }
            
            function playketqua() {
                playmute = 0;
                document.getElementById("muteplay").play();
            }
            
            if ("@ViewBag.NgauNhien" == "true" && '@TempData["Karaoke_RandomImage"]' == "true") {
                var xs = 0;
            
                setInterval(function () {
                    xs++;
                    var n = new Number("@ViewBag.SoLuongNgauNhien");
                    if (xs >= n) xs = 0;
            
                    document.getElementById("myVideo").src = "/karaoke_Example/background/" + (xs + 1) + ".jpg";
                }, 5000);
            }
            
            var useMauNen = 0;
            
            var sd = 0;
            
            function videovua() {
                if (document.getElementById("vuavideo").checked == true) {
                    document.getElementById("myVidex").style.maxHeight = "100%";
                    documentonprogress("myVidex").style.maxWidth = "100%";
                } else {
                    document.getElementById("myVidex").style.maxHeight = "1000%";
                    documentonprogress("myVidex").style.maxWidth = "1000%";
                }
            }
            
            if ('@TempData["post-kara"]' == "true") {
                document.addEventListener("DOMContentLoaded", (event) => {
                    document.body.addEventListener("keydown", (e) => {
                        if (e.key === "M" || e.key === "m") {
                            dongmomenu();
                        }
            
                        if (hasSinger != "true") {
                            if (e.key === "K" || e.key === "k") {
                                if (document.getElementById("chon").options.selectedIndex == 0) {
                                    document.getElementById("chon").options.selectedIndex = 1;
                                } else {
                                    document.getElementById("chon").options.selectedIndex = 0;
                                }
                                changeKara();
                            }
                        }
            
                        if (e.keyCode == 32)
                        {
                            loadsolar();
                        }
            
                        if (e.key == "o" || e.key == "O")
                        {
                            resetKaraoke();
                        }
            
                        if (notice == 1)
                        {
                            if (e.key == "x" || e.key == "X")
                            {
                                  document.getElementById("message").style.display = "none";
                                 document.getElementById("error").style.display = "none";
                                document.getElementById("error").innerHTML = "";
                                notice = 0;
                            }
                        }
                    });
                });
            }
            
            function loadauto() {
                if (sd == 1 || '@TempData["index-auto"]' == null || '@TempData["index-auto"]' == "" || document.getElementById("getlist").innerHTML != '<span style="color:green">Successful!</span>') return;
            
                if ('@TempData["post-kara"]' == "false") {
                    var indes = '@TempData["index-auto"]'.split("***");
                    var index = 0;
                    if (indes.length == 2) {
                        index = new Number(indes[0]) - 1;
                    } else {
                        index = new Number(indes[0]);
                    }
            
                    document.getElementById("listsong").options.selectedIndex = index;
                    changesong();
                    document.getElementById("chonKara").options.selectedIndex = 4;
                    document.getElementById("chonKarax").value = "5";
                    document.getElementById("autoSong").checked = "true";
                    document.getElementById("okxem").click();
                } else {
                    loadsolar();
                }
                sd = 1;
            }
            
            setInterval(function () {
                loadauto();
            
                const detectDeviceType = () =>
                    // Use a regular expression to test the userAgent string for common mobile device identifiers.
                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
                        ? "Mobile" // If any of the identifiers are found, return 'Mobile'.
                        : "Desktop"; // Otherwise, return 'Desktop'.
            
                if ('@TempData["cangiua"]' == "false" && '@TempData["codinh"]' == "true") {
                    if (detectDeviceType() == "Mobile") {
                        document.getElementById("txtKaraoke1").style.bottom = "50px";
                        document.getElementById("number").style.bottom = "200px";
                    } else {
                        document.getElementById("txtKaraoke1").style.bottom = "200px";
                        document.getElementById("number").style.bottom = "500px";
                    }
                }

                //--------------------------------

                //if ('@TempData["post-kara"]' == "true" && flg == 1) {
                //    var musixPause = document.getElementById('musix');
                //    var musicPause = document.getElementById('music');

                //    if (musixPause.paused || musicPause.paused)
                //    {
                //        resetKaraoke();
                //        musicPause.play();
                //        musixPause.play();
                //        replay_Youtube();
                //    }
                //}

            }, 10);
            
            function playAutoList() {
                document.getElementById("listsong").options.selectedIndex = 0;
                changesong();
                document.getElementById("chonKara").options.selectedIndex = 4;
                document.getElementById("chonKarax").value = "5";
                document.getElementById("autoSong").checked = "true";
                document.getElementById("okxem").click();
            }
            
            // Delete div somee
            
            setInterval(function () {
                $(document).ready(function () {
                    $("div[style='opacity: 0.9; z-index: 2147483647; position: fixed; left: 0px; bottom: 0px; height: 65px; right: 0px; display: block; width: 100%; background-color: #202020; margin: 0px; padding: 0px;']").remove();
                    $("div[style='margin: 0px; padding: 0px; left: 0px; width: 100%; height: 65px; right: 0px; bottom: 0px; display: block; position: fixed; z-index: 2147483647; opacity: 0.9; background-color: rgb(32, 32, 32);']").remove();
                    $("div[onmouseover='S_ssac();']").remove();
                    $("center").remove();
                    $("div[style='height: 65px;']").remove();
                });
            }, 10);
            
            function xong() {
                if (playmute == 0) {
                    alert("Vui l√≤ng ch·ªù trong √≠t ph√∫t ho·∫∑c load l·∫°i trang. Xin l·ªói v√¨ s·ª± b·∫•t ti·ªán n√†y (h·ªá th·ªëng ƒëang ti·∫øn h√†nh x·ª≠ l√Ω l·∫°i) !");
                    return;
                }
            
                document.getElementById("okxem").style.display = "none";
                document.getElementById("loading").style.display = "block";

                 thatbai_time = 0;
        setInterval(function()
        {
            if (thatbai_time == 5)
            {
                if (thatbai == true)
                {
                      document.getElementById("okxem").style.display = "inline-block";
                     document.getElementById("loading").style.display = "none";
                }
                return;
            }
            thatbai_time++;
        },10);
            }

            var lancop = 0;
            
            function copyshare() {
                //if (dFlag == 1)
                //{
                //     document.getElementById("message").style.display = "block";
                //  document.getElementById("error").style.display = "block";
                //document.getElementById("error").innerHTML = "‚ö†Ô∏è X·ª≠ l√Ω th·∫•t b·∫°i, do ƒëang c√≥ n·ªôi dung b·∫£n text Karaoke ƒëang ƒë∆∞·ª£c m√£ ho√° nh∆∞ng ch∆∞a ƒë∆∞·ª£c gi·∫£i m√£. Vui l√≤ng th·ª≠ l·∫°i sau !";
                //    return;
                //}
                var mi = "";
            
                //if ('@TempData["data-encrypt"]' == "true")
                //mi = "<encrypt>";
            
                var luutru = "";
            
                if (document.getElementById("saveshare").checked == true) {
                    var hangR = "[NULL]";
                    var mauR = "[NULL]";
            
                    if ('@TempData["TK-KARA"]' == "" || '@TempData["codinh"]' == "false") {
                        hangR = document.getElementById("hang").value;
                        mauR = document.getElementById("mau").value.replace("#", "");
                    }
            
                    var mauXR = document.getElementById("mauX").value.replace("#", "");
                    var mauYR = document.getElementById("mauY").value.replace("#", "");
                    var kichthuocR = document.getElementById("kichthuoc").value;
                    var fontKieuR = document.getElementById("fontKieu").options.selectedIndex;
                    // var kieudemnguocR = document.getElementById("kieudemnguoc").value;
                    var kieudemnguocR = document.getElementById("kieudemnguoc").value;
                    var maunexR = document.getElementById("maunex").value.replace("#", "");
                    var anhmoR = document.getElementById("anhmo").value;
            
                    luutru = "&&setting=" + hangR + "<>" + mauR + "<>" + mauXR + "<>" + mauYR + "<>" + kichthuocR + "<>" + fontKieuR + "<>" + kieudemnguocR + "<>" + maunexR + "<>" + anhmoR;
                }
            
                var url = '@TempData["https_url"]' + "://" + "@ViewBag.Host" + "/Home/Share_Karaoke?id=" + document.getElementById("linkKara").value + mi + luutru;

                var formData = new FormData();
                formData.append("url", url);
                $.ajax({
                    url: "/Home/EncodeUrlData",
                    type: "POST",
                    data: formData,
                    contentType: false,
                    processData: false,
                    success: function(data) {

                        var urlFull = '@TempData["https_url"]' + "://" + "@ViewBag.Host" + "/Home/RedirectUrlEncode?id=share_karaoke&&code=" + data.url;
            
                    if (lancop % 2 == 0)
                    {
                          navigator.clipboard.writeText(urlFull);
                    }

                document.getElementById("message").style.display = "block";
                document.getElementById("error").style.display = "block";

                if (lancop % 2 == 0)
                {
                document.getElementById("error").innerHTML = "‚úîÔ∏è M·ªôt url chia s·∫ª Karaoke ƒë√£ ƒë∆∞·ª£c copy v√†o Clipboard c·ªßa b·∫°n. H√£y chia s·∫ª b√†i h√°t n√†y v√† mang ni·ªÅm vui ƒë·∫øn b·∫°n b√® m√¨nh nh√© !";
                }
                else
                {
                     document.getElementById("error").innerHTML = "‚úîÔ∏è M·ªôt url chia s·∫ª Karaoke ƒë√£ ƒë∆∞·ª£c xu·∫•t ra ·ªü TextBox b√™n d∆∞·ªõi. H√£y chia s·∫ª b√†i h√°t n√†y v√† mang ni·ªÅm vui ƒë·∫øn b·∫°n b√® m√¨nh nh√© (nh·∫•n l√¢n n·ªØa ƒë·ªÉ copy - n·∫øu c√≥ th·ªÉ) !<br /><input type='text' size='180' value='"+urlFull+"'readonly />";
                }
                notice = 1;
            }});

            lancop++;
            }
            
            var idX;
            idX = setInterval(myAlertX, 1000);
            
            var dFlag = 0;
            var notice = 0;
            
            var duYou = 0;
            var durationYoutube = '@TempData["duration-Youtube"]';
            var duMusic = 0;
            setInterval(function () {
                if ('@TempData["post-kara"]' == "true") {
                    if ('@TempData["auto-music"]' == "true") {
                        duMusic++;
                        var duMusix = new Number(document.getElementById("music").duration);
                        if (duMusic >= duMusix - 1) {
                            duMusic = 0;
                            resetKaraoke();
                        }
                    }
            
                    if ("@ViewBag.SuDung" == "Youtube") {
                        window.location.href = "#" + '@TempData["id-youtube"]';
            
                        var duraYou = new Number(durationYoutube);
                        if (durationYoutube != "no") {
                            duYou++;
                            if (duYou >= duraYou) {
                                duYou = 0;
                                document.getElementById("re-You").click();
                            }
                        }
                    }
                }
            }, 1000);
            
            var so = 0;
            function myAlertX() {
                if ("@ViewBag.Share" != "YES" && "@ViewBag.Share" != "OK") {
                    clearInterval(idX);
                    return;
                }
            
                so++;
            
                if ("@ViewBag.Share" == "YES") {
                    if (so < 5) return;
            
                    if ("@ViewBag.Option" == "1") {
                        document.getElementById("chonKarax").value = 1;
                        document.getElementById("chonKara").options.selectedIndex = 0;
                    } else if ("@ViewBag.Option" == "2") {
                        document.getElementById("chonKarax").value = 2;
                        document.getElementById("chonKara").options.selectedIndex = 1;
                        document.getElementById("online").value = "@ViewBag.Background";
                        document.getElementById("online").style.display = "block";
                    } else if ("@ViewBag.Option" == "3") {
                        document.getElementById("chonKarax").value = 3;
                        document.getElementById("chonKara").options.selectedIndex = 2;
                        document.getElementById("online").value = "@ViewBag.Background";
                        document.getElementById("online").style.display = "block";
                    } else if ("@ViewBag.Option" == "4") {
                        document.getElementById("chonKarax").value = 4;
                        document.getElementById("chonKara").options.selectedIndex = 3;
                        document.getElementById("online").value = "@ViewBag.Background";
                        document.getElementById("online").style.display = "block";
                    } else if ("@ViewBag.Option" == "5") {
                        document.getElementById("chonKarax").value = 5;
                        document.getElementById("chonKara").options.selectedIndex = 4;
                        document.getElementById("online").style.display = "none";
                    }
            
                    document.getElementById("okxem").click();
                } else if ("@ViewBag.Share" == "OK") {
                    document.getElementById("getlist").click();
                    clearInterval(idX);
                }
            }
            
            function thoatServer() {
                window.location.href = "/Home/ToPlayKaraoke";
            }
            
            function changesong() {
                var e = document.getElementById("listsong");
                var song = e.options[e.selectedIndex].text;
                document.getElementById("baihatX").value = song;
                nas = true;
            }
            
            function showlist() {
                if (document.getElementById("getlist").innerHTML == '<span style="color:green">Successful!</span>') return;
            
                if (document.getElementById("serverX").value == "") {
                    document.getElementById("serverX").value = '@TempData["link-karaoke-demo"]';
                }
            
                if (document.getElementById("songlist").value == "") {
                    var url = document.getElementById("serverX").value;
                    var baihat = document.getElementById("baihatX").value;
            
                    alert(
                        "X·ª≠ l√Ω th√†nh c√¥ng, h·ªá th·ªëng s·∫Ω kh·ªüi ƒë·ªông l·∫°i trang web (n·∫øu b·∫°n ch∆∞a nh·∫≠p, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông l·∫•y m·∫´u demo c·ªßa ch√∫ng t√¥i cho b·∫°n tr·∫£i nghi·ªám). N·∫øu danh s√°ch c·ªßa b·∫°n ch∆∞a ƒë∆∞·ª£c t·∫£i xu·ªëng, vui l√≤ng click l·∫°i v√†o link n√∫t n√†y m·ªôt l·∫ßn n·ªØa ƒë·ªÉ ho√†n t·∫•t th·ª≠ l·∫°i vi·ªác t·∫£i c√°c b√†i h√°t ƒë√£ get tr√™n Server host c·ªßa b·∫°n..."
                    );
            
                    var thongtin = url + "[NONE]" + "-.-" + baihat + "[NONE]" + "-.-[NOT]-.-0";
            
                    //navigator.clipboard.writeText(thongtin);
            
                    window.location.href = "/Home/Share_Karaoke?id=" + thongtin;
                } else;
                {
                    var noidung = document.getElementById("songlist").value.split("\n");
                    var listsong = document.getElementById("listsong");
            
                    listsong.innerHTML = "";
                    var dem = 0;
                    for (var i = 0; i < noidung.length; i++) {
                        if (noidung[i] != "") {
                            listsong.innerHTML += '<option value="' + noidung[i] + '">' + noidung[i] + "</option>";
                            dem++;
                        }
                    }
                    document.getElementById("soluongSong").innerHTML = "Hi·ªán t·∫°i Karaoke tr√™n host server c·ªßa b·∫°n c√≥ : " + dem + " b√†i h√°t.";
                    document.getElementById("songlist").value = "";
                    document.getElementById("getlist").innerHTML = '<span style="color:green">Successful!</span>';
                }
            }
            
            function helpKara() {
                alert(
                    "[C·∫¢M PHI·ªÄN B·∫†N H√ÉY ƒê·ªåC H∆Ø·ªöNG D·∫™N NHANH T·∫†I ƒê√ÇY üòÅ]\n\n[1/2]\n\n1. ƒêƒÉng k√≠ host server name :\n\nL∆∞u √Ω, h·ªá th·ªëng ƒëang h∆∞·ªõng d·∫´n b·∫°n ƒëƒÉng k√≠ host server b·∫±ng trang web c·ªßa freeasphosting.net, n·∫øu b·∫°n c√≥ th·ªÉ t√¨m ki·∫øm ƒë∆∞·ª£c c√°c trang web d·ªãch v·ª• h·ªó tr·ª£ host server kh√°c th√¨ c≈©ng c√≥ th·ªÉ √°p d·ª•ng v√† c√°c c√°ch th·ª±c hi·ªán c≈©ng t∆∞∆°ng t·ª±.\n\n- Truy c·∫≠p : http://freeasphosting.net/ v√† ƒëƒÉng k√≠ t√†i kho·∫£n m·ªõi (n·∫øu b·∫°n ch∆∞a c√≥) t·∫°i Create Your Web Site\n\n- ƒêƒÉng nh·∫≠p t√†i kho·∫£n v√† v√†o m·ª•c qu·∫£n l√Ω file.\n\n- M·ªói m·ªôt b√†i h√°t karaoke c·ªßa b·∫°n ph·∫£i ƒë∆∞·ª£c ƒë·∫∑t trong t·ª´ng c√°c th∆∞ m·ª•c ri√™ng bi·ªát.\n\n- Quy t·∫Øc nh∆∞ sau ƒë·ªÉ ph√π h·ª£p v·ªõi d·ªãch v·ª• Karaoke c·ªßa MyWebPlay : v√≠ d·ª• b·∫°n c√≥ karaoke b√†i h√°t t√™n l√† M√πa xu√¢n c·ªßa em, t·∫°o th∆∞ m·ª•c MuaXuanCuaEm v√† b√™n trong th∆∞ m·ª•c b·∫°n c√≥ th·ªÉ d√πng ch·ª©c nƒÉng Upload ƒë·ªÉ t·∫£i l√™n ƒë√∫ng 3 file li√™n quan v√†o trong th∆∞ m·ª•c n√†y. 3 file li√™n quan ƒë√≥ ch√≠nh l√† : file txt n·ªôi dung karaoke, file mp3 nh·∫°c bao g·ªìm c·∫£ gi·ªçng ca sƒ© v√† file mp3 ƒë√£ t√°ch nh·∫°c."
                );
                alert(
                    "[C·∫¢M PHI·ªÄN B·∫†N H√ÉY ƒê·ªåC H∆Ø·ªöNG D·∫™N NHANH T·∫†I ƒê√ÇY üòÅ]\n\n[2/2]\n\n- Tuy nhi√™n, 3 file b·∫°n t·∫£i l√™n c≈©ng ph·∫£i ƒë·∫∑t t√™n theo quy t·∫Øc. ·ªû v√≠ d·ª• th∆∞ m·ª•c MuaXuanCuaEm tr√™n, file txt n·ªôi dung b·∫°n c√≥ th·ªÉ ƒë·∫∑t l√† MuaXuanCuaEm.txt, file mp3 b·∫£n g·ªëc b·∫°n c√≥ th·ªÉ ƒë·∫∑t l√† MuaXuanCuaEm_Goc.mp3 v√† file mp3 ƒë√£ t√°ch nh·∫°c th√¨ c√≥ th·ªÉ ƒë·∫∑t l√† MuaXuanCuaEm.mp3\n\n=> L∆∞u √Ω b·∫°n ph·∫£i ƒë·∫∑t ƒë√∫ng c√°c t√™n file v√† th∆∞ m·ª•c Karaoke theo ƒë√∫ng nguy√™n t·∫Øc tr√™n, n·∫øu kh√¥ng s·∫Ω g√¢y ra l·ªói v√† kh√≥ x·ª≠ l√Ω üòÇ\n\n2. S·ª≠ d·ª•ng host server c·ªßa b·∫°n ƒë·ªÉ Play Karaoke :\n\n- Nh·∫≠p t√™n host server name c·ªßa b·∫°n, ch√≠nh l√† th√¥ng tin username m√† b·∫°n ƒë√£ t·∫°o t√†i kho·∫£n t·∫°i freeasphosting.net tr∆∞·ªõc ƒë√≥ (v√≠ d·ª• : yourusername.bsite.net). L∆∞u √Ω n·∫øu b·∫°n ƒë√£ t·∫°o host server web kh√¥ng ph·∫£i c·ªßa freeasphosting.net th√¨ h√£y ch√∫ √Ω t∆∞∆°ng t·ª±.\n\n- Nh·∫≠p b√†i h√°t t·∫°i Server Karaoke c·ªßa b·∫°n, ch√≠nh l√† t√™n th∆∞ m·ª•c b·∫°n ƒë√£ ƒë·∫∑t v√† upload t·∫°i server (v√≠ d·ª• MuaXuanCuaEm). L∆∞u √Ω th∆∞ m·ª•c c·ªßa b·∫°n ch·ªâ bao g·ªìm ƒë·ªß v√† ƒë√∫ng 3 file li√™n quan tr√™n\n\n=> Ch√∫c m·ªçi ng∆∞·ªùi th√†nh c√¥ng v√† th∆∞·ªüng th·ª©c ü•∞!"
                );
            }
            
            function onlinecheck() {
                if (document.getElementById("onlineServer").checked == true) {
                    document.getElementById("phan1").style.display = "none";
                    document.getElementById("phan2").style.display = "none";
                    document.getElementById("phan3").style.display = "none";
                    document.getElementById("check").style.display = "none";
                    document.getElementById("phan4").style.display = "block";
                    document.getElementById("phan5").style.display = "block";
                    document.getElementById("phan6").style.display = "block";
                } else {
                    document.getElementById("phan1").style.display = "block";
                    document.getElementById("phan2").style.display = "block";
                    document.getElementById("phan3").style.display = "block";
                    document.getElementById("check").style.display = "block";
                    document.getElementById("phan4").style.display = "none";
                    document.getElementById("phan5").style.display = "none";
                    document.getElementById("phan6").style.display = "none";
                }
            }
            
            function doimaunenX() {
                var mau = document.getElementById("maunenX").value;
                document.getElementById("demo_nen").style.color = mau;
            
                var x = document.getElementById("background-X");
                x.style.backgroundColor = mau;
            
                useMauNen = 1;
            }
            
            function xoamaunen() {
                document.getElementById("demo_nen").style.color = "#FFFFFF";
                document.getElementById("maunenX").value = "#FFFFFF";
            
                var x = document.getElementById("background-X");
            
                if (useMauNen == 0 || useMauNen == 1) {
                    x.style.backgroundColor = "rgba(0, 0, 0, 0.4)";
                    useMauNen = 2;
                } else {
                    x.style.backgroundColor = "transparent";
                    useMauNen = 0;
                }
            }
            
            function doikichthuoc() {
                var kt = document.getElementById("kichthuoc").value + "px";
                document.getElementById("txtKaraoke1").style.fontSize = kt;
                document.getElementById("txtKaraoke2").style.fontSize = kt;
                document.getElementById("number").style.fontSize = kt;
            }
            
            function doikichthuoc_Save() {
                if (localStorage.getItem("kichthuoc") == null
                 || document.getElementById("kichthuoc") == null || document.getElementById("txtKaraoke1") == null || document.getElementById("txtKaraoke2") == null  || document.getElementById("number") == null) return;
            
                var kichthuoc = localStorage.getItem("kichthuoc");
                var kt = kichthuoc + "px";
                document.getElementById("kichthuoc").value = kichthuoc;
                document.getElementById("txtKaraoke1").style.fontSize = kt;
                document.getElementById("txtKaraoke2").style.fontSize = kt;
                document.getElementById("number").style.fontSize = kt;
            }
            
            function doihang() {
                var hang = new Number(document.getElementById("hang").value);
                var hax = "";
                for (var i = 0; i < hang; i++) hax += "<br>";
            
                document.getElementById("hienthi").innerHTML = hax;
            }
            
            function doihang_Save() {
                if (localStorage.getItem("hang") == null
                ||  document.getElementById("hang") == null) return;
            
                var hang = new Number(localStorage.getItem("hang"));
            
                if ('@TempData["TK-KARA"]' != "" || '@TempData["codinh"]' == "true") hang = 0;
            
                document.getElementById("hang").value = hang;
            
                var hax = "";
                for (var i = 0; i < hang; i++) hax += "<br>";
            
                document.getElementById("hienthi").innerHTML = hax;
            }
            
            function chonKaraHay() {
                var chon = document.getElementById("chonKara").options.selectedIndex;
                var chonX = document.getElementById("chonKarax");
                var online = document.getElementById("online");
                var help = document.getElementById("helpYoutube");
                var help2 = document.getElementById("Youtubehelp");
                if (chon == 0) {
                    online.style.display = "none";
                    help.style.display = "none";
                    help2.style.display = "none";
                    chonX.value = "1";
                } else if (chon == 1) {
                    chonX.value = "2";
                    online.style.display = "block";
                    help.style.display = "none";
                    help2.style.display = "none";
                } else if (chon == 2) {
                    chonX.value = "3";
                    online.style.display = "block";
                    help.style.display = "none";
                    help2.style.display = "none";
                } else if (chon == 3) {
                    chonX.value = "4";
                    online.style.display = "block";
                    help.style.display = "block";
                    help2.style.display = "block";
                } else if (chon == 4) {
                    chonX.value = "5";
                    online.style.display = "none";
                    help.style.display = "none";
                    help2.style.display = "block";
                }
            }
            
            function dongmomenu() {
                var menu = document.getElementById("menu");
                var hienlinh = document.getElementById("hienlinh");
            
                if (menu.style.display == "block") {
                    menu.style.display = "none";
                    hienlinh.style.display = "block";
                } else {
                    menu.style.display = "block";
                    hienlinh.style.display = "none";
                }
            }
            
            function dongmenu()
            {
                 var menu = document.getElementById("menu");
                var hienlinh = document.getElementById("hienlinh");
            
                 if (menu.style.display == "block") {
                    menu.style.display = "none";
                    hienlinh.style.display = "block";
                } 
            }
            
            
            function momenu()
            {
                var menu = document.getElementById("menu");
                var hienlinh = document.getElementById("hienlinh");
            
                 if (menu.style.display == "none") {
                     menu.style.display = "block";
                    hienlinh.style.display = "none";
                } 
            }
            
            var elem = document.documentElement;
            
            function loadsolar() {
                var xanh = document.getElementById("xanh");
                if ("@ViewBag.Show" == "show") {
                    if (xanh.innerHTML == "<b id=\"custom1540\">FULL M√ÄN H√åNH - OFF</b>") {
                        if (elem.requestFullscreen) elem.requestFullscreen();
                        else if (elem.webkitRequestFullscreen) /* Safari */ elem.webkitRequestFullscreen();
                        else if (elem.msRequestFullscreen) /* IE11 */ elem.msRequestFullscreen();
            
                        xanh.innerHTML = "<b id=\"custom1540\">FULL M√ÄN H√åNH - ON</b>";
                        dongmomenu();
                        document.getElementById("message").style.display = "block";
                        document.getElementById("error").style.display = "block";
                        document.getElementById("error").innerHTML = "L∆∞u √Ω : Khi b·∫≠t ch·∫ø ƒë·ªô full m√†n h√¨nh, c√°c option menu s·∫Ω b·ªã ·∫©n (nh·∫±m m·ªü r·ªông kh√¥ng gian). B·∫°n c≈©ng c√≥ th·ªÉ nh·∫•n ph√≠m M ho·∫∑c m ƒë·ªÉ hi·ªán/·∫©n khung menu (ho·∫∑c nh·∫•n ƒë√∫p v√†o m√†n h√¨nh || ho·∫∑c click v√†o n·ªôi dung text Karaoke ƒëang ch·∫°y). M·∫∏O B·ªî SUNG : h√£y r√™ chu·ªôt v√†o c√°c n√∫t v√† c√°c element ƒëang c√≥ ·ªü khung menu ƒë·ªÉ hi·ªán h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng c≈©ng nh∆∞ c√°c ph√≠m t·∫Øt c·∫ßn thi·∫øt nh√©.";
                        notice = 1;
                    } else {
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        } else if (document.webkitExitFullscreen) {
                            /* Safari */
                            document.webkitExitFullscreen();
                        } else if (document.msExitFullscreen) {
                            /* IE11 */
                            document.msExitFullscreen();
                        }
            
                        var menu = document.getElementById("menu");
                        var hienlinh = document.getElementById("hienlinh");
            
                        if (menu.style.display != "block") {
                            menu.style.display = "block";
                            hienlinh.style.display = "none";
                        }
            
                        xanh.innerHTML = "<b>FULL M√ÄN H√åNH - OFF</b>";
            
                        document.getElementById("message").style.display = "none";
                        document.getElementById("error").style.display = "none";
                        document.getElementById("error").innerHTML = "";
                        notice = 0;
                    }
                }
            }
            
            var you = false;
            var youX = false;

            window.addEventListener("hashchange", function() {
                    var hash = window.location.hash.substring(1);
                   
                    if (hash == "unlocked")
                    {
                        isLocked = false;
                        resetKaraoke();
                    }
                    else if (hash == "locked")
                    {
                        isLocked = true;
                        resetKaraoke();
                    }
                });
            
            var isLocked = false;
            function PlayY() {
                if ('@TempData["not_singer"]' == "true" || isLocked == true) return;

                if (document.getElementById("music").currentTime != document.getElementById("musix").currentTime) document.getElementById("music").currentTime = document.getElementById("musix").currentTime;
            }
            
            function PlayZ() {
                if ('@TempData["not_singer"]' == "true" || isLocked == true) return;

                if (document.getElementById("music").currentTime != document.getElementById("musix").currentTime) document.getElementById("musix").currentTime = document.getElementById("music").currentTime;
            }
            
            window.onresize = function (event) {
                var height = screen.height;
                var width = screen.width;
            
                var kichthuoc = new Number(width / 19).toFixed();
                var vitri = new Number(height / 170).toFixed();
            
                if ('@TempData["TK-Kara"]' != "" || '@TempData["codinh"]' == "true") {
                    vitri = 0;
                    document.getElementById("hang").value = vitri;
                }
            
                if (localStorage.getItem("kichthuoc") == null) {
                    document.getElementById("kichthuoc").value = kichthuoc;
                    doikichthuoc();
                }
            
                if ('@TempData["codinh"]' == "false" && localStorage.getItem("hang") == null) document.getElementById("hang").value = vitri;
            };
            
            var flix = 0;
            var sai = 0;
            var behind = 0;
            var be = 0;
            
            setInterval(function () {
                if (behind == 0 && '@TempData["behind"]' == "true") {
                    be++;
                    if (be == new Number('@TempData["behind-number"]')) {
                        behind = 1;
                        document.getElementById("musix").play();
                        document.getElementById("music").play();
            
                        if ("@ViewBag.SuDung" == "Video") {
                            document.getElementById("myVidex").currentTime = 0;
                        }
                    }
                }
            }, 1000);
            
            var t_notice = 0;
            
            setInterval(function () {
                if (notice == 0) return;
            
                t_notice++;
                if (t_notice == 20) {
                    t_notice = 0;
                    notice = 0;
            
                    document.getElementById("message").style.display = "none";
                    document.getElementById("error").style.display = "none";
                    document.getElementById("error").innerHTML = "";
                    document.getElementById("loadingX").style.display = "none";
                }
            }, 1000);
            
            function PlayKaraoke() {
                //if (sai == 0 && '@ViewBag.BehindYoutube' == "YES" && '@ViewBag.Share' != "YES" && '@ViewBag.Share' != "YES - OK")
            
                if (sai == 0 && ('@TempData["auto-play"]' == "false" || '@TempData["behind"]' == "true")) {
                    document.getElementById("musix").pause();
                    document.getElementById("music").pause();
                    you = false;
                    sai = 1;
                    return;
                }
            
                document.getElementById("error").style.display = "none";
                document.getElementById("error").innerHTML = "";
            
                if ('@TempData["not_singer"]' == "false" && isLocked == false)
                {
                if (document.getElementById("music").currentTime != document.getElementById("musix").currentTime) document.getElementById("music").currentTime = document.getElementById("musix").currentTime;
                }
            
                document.getElementById("musix").play();
            
                you = true;
            }
            
            function ToPlayKaraoke() {
                if (sai == 0 && '@TempData["auto-play"]' == "false") {
                    document.getElementById("music").pause();
                    document.getElementById("musix").pause();
                    you = false;
                    sai = 1;
                    return;
                }
            
                if ('@TempData["not_singer"]' == "false" && isLocked == false)
                {
                if (document.getElementById("musix").currentTime != document.getElementById("music").currentTime) document.getElementById("musix").currentTime = document.getElementById("music").currentTime;
                }
            
                document.getElementById("music").play();
                youX = true;
            }
            
            var mi = 0;
            var chiase  = 0;
            setInterval(function () {
                if (mi == 1 || '@TempData["post-kara"]' == "false") return;
            
                var fontKara = '@TempData["fontKara"]'.replaceAll("&#xD;&#xA;", "\n").split("\n");
            
                for (var i = 0; i < fontKara.length; i++) document.getElementById("fontKieu").innerHTML += '<option style="font-family:' + fontKara[i] + '">' + fontKara[i] + "</option>";
            
                mi = 1;
            
                if (chiase == 0 && "@ViewBag.Share" == "YES - OK") {
                    document.getElementById("message").style.display = "block";
                    document.getElementById("error").style.display = "block";
                    document.getElementById("error").innerHTML = "N·∫øu b·∫°n play karaoke b·∫±ng link chia s·∫ª c·ªßa b·∫°n b√®, ban ƒë·∫ßu vui l√≤ng nh·∫•n n√∫t [Kh·ªüi ƒë·ªông l·∫°i] ho·∫∑c nh·∫•n ph√≠m o/O ƒë·ªÉ ph√°t tr√¨nh nh·∫°c...";
                    notice = 1;
                    chiase = 1;
                    return;
                }
            }, 10);
            
            var t = 0;
            var kk = 0;
            var empty = -1;
            
            var flag = 0;
            var n = 0;
            var kf = 0;
            var ix = 0;
            
            function resetKaraoke() {
                document.getElementById("thietkeKara").innerHTML = "";
                document.getElementById("musix").currentTime = 0;
                document.getElementById("music").currentTime = 0;
                duMusic = 0;
                doiFontKieu();
                moanh();
            
                t = 0;
                kk = 0;
                empty = -1;
                so = 0;
            
                flag = 0;
                n = 0;
                kf = 0;
            
                document.getElementById("txtKaraoke1").innerHTML = "";
                document.getElementById("txtKaraoke2").innerHTML = "";
                document.getElementById("txtKara1").value = "";
                document.getElementById("txtKara2").value = "";
                document.getElementById("number").innerHTML = "";
            
                if (ndTK == "")
                document.getElementById("thietkeKara").innerHTML = "";
                ix = 0;
            }
            
            function xoaerror() {
                document.getElementById("message").style.display = "none";
                document.getElementById("error").style.display = "none";
                document.getElementById("error").innerHTML = "";
                document.getElementById("loadingX").style.display = "none";
                notice = 0;
                t_notice = 0;
            }
            
            function xoaghinho() {
                localStorage.removeItem("mau");
                localStorage.removeItem("hang");
                localStorage.removeItem("mauX");
                localStorage.removeItem("mauY");
                localStorage.removeItem("kichthuoc");
                localStorage.removeItem("kieuchu");
                localStorage.removeItem("kieudemnguoc");
                // localStorage.removeItem("dotre");
            
                localStorage.removeItem("maunen", "none");
            
                localStorage.removeItem("maunex");
                localStorage.removeItem("anhmo");
            
                document.getElementById("message").style.display = "block";
                document.getElementById("error").style.display = "block";
                document.getElementById("error").innerHTML = "‚úîÔ∏è C√°c c√†i ƒë·∫∑t Karaoke c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c xo√° ghi nh·ªõ v√† tr·ªü l·∫°i m·∫∑c ƒë·ªãnh ban ƒë·∫ßu, h√£y th·ª≠ l·∫°i Play Karaoke trong l·∫ßn ti·∫øp theo.";
                notice = 1;
            }
            
            function ghinho() {
                if ("@ViewBag.Share" == "YES - OK") {
                    document.getElementById("message").style.display = "block";
                    document.getElementById("error").style.display = "block";
                    document.getElementById("error").innerHTML = "‚ö†Ô∏è Xin l·ªói, t√≠nh nƒÉng ghi nh·ªõ c√†i ƒë·∫∑t kh√¥ng th·ªÉ √°p d·ª•ng n·∫øu b·∫°n ƒëang s·ª≠ d·ª•ng Karaoke b·∫±ng link chia s·∫ª t·ª´ b·∫°n b√® !";
                    notice = 1;
                    return;
                }
            
                if ('@TempData["TK-KARA"]' == "" || '@TempData["codinh"]' == "false") {
                    localStorage.setItem("mau", document.getElementById("mau").value);
                    localStorage.setItem("hang", document.getElementById("hang").value);
                }
                localStorage.setItem("mauX", document.getElementById("mauX").value);
                localStorage.setItem("mauY", document.getElementById("mauY").value);
                localStorage.setItem("kichthuoc", document.getElementById("kichthuoc").value);
                localStorage.setItem("kieuchu", document.getElementById("fontKieu").options.selectedIndex);
                localStorage.setItem("kieudemnguoc", document.getElementById("kieudemnguoc").value);
                // localStorage.setItem("dotre", document.getElementById("dotre").value);
            
                if ('@TempData["codinh"]' == "false") {
                    if (useMauNen == 0) localStorage.setItem("maunen", "none");
                    else if (useMauNen == 1) localStorage.setItem("maunen", document.getElementById("maunenX").value);
                    else if (useMauNen == 2) localStorage.setItem("maunen", "blue");
                }
            
                localStorage.setItem("maunex", document.getElementById("maunex").value);
                localStorage.setItem("anhmo", document.getElementById("anhmo").value);
            
                document.getElementById("message").style.display = "block";
                document.getElementById("error").style.display = "block";
                document.getElementById("error").innerHTML = "‚úîÔ∏è C√°c c√†i ƒë·∫∑t Karaoke c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ghi nh·ªõ th√†nh c√¥ng (ch√∫ √Ω : m·ªôt s·ªë setting c√≥ th·ªÉ s·∫Ω t·ª± √Ω thay ƒë·ªïi m·ªôt ch√∫t ƒë·ªÉ ph√π h·ª£p v·ªõi ho√†n c·∫£nh) !";
                notice = 1;
            
                var menu = document.getElementById("menu");
                var hienlinh = document.getElementById("hienlinh");
            
                if (menu.style.display != "block") {
                    menu.style.display = "block";
                    hienlinh.style.display = "none";
                }
                document.getElementById("xanh").innerHTML = "<b id=\"custom1540\">FULL M√ÄN H√åNH - OFF</b>";
            }
            
            function PlayXKaraoke() {
                document.getElementById("musix").pause();
            
                you = false;
            }
            
            function restart_Youtube() {
                if ("@ViewBag.SuDung" == "Youtube") {
                    document.getElementById("phanphoi").innerHTML = '<iframe id="myVideo" style="pointer-events: none;" src="' + "@ViewBag.Background" + '"></iframe>';
                    duYou = 0;
                } else if ("@ViewBag.SuDung" == "Video") {
                    document.getElementById("myVideo").currentTime = 0;
                }
            }
            
            function replay_Youtube() {
                duMusic = 0;
                if ("@ViewBag.SuDung" == "Youtube") {
                    duYou = 0;
                    document.getElementById("phanphoi").innerHTML = '<iframe id="myVideo" style="pointer-events: none;" src="' + "@ViewBag.Background" + '"></iframe>';
                } else if ("@ViewBag.SuDung" == "Video") {
                    document.getElementById("myVideo").currentTime = 0;
                }
            
                resetKaraoke();
            }
            
            function xemplay() {
                //if ('@ViewBag.SuDung' == "Youtube")
                //{
                //document.getElementById("phanphoi").innerHTML= "<iframe id=\"myVideo\" src=\""+'@ViewBag.Background'+"\"></iframe>";
                //}
                //else if ('@ViewBag.SuDung' == "Video")
                //{
                //    document.getElementById("myVideo").currentTime = 0;
                //}
            
                dongmomenu();
                if (elem.requestFullscreen) elem.requestFullscreen();
                else if (elem.webkitRequestFullscreen) /* Safari */ elem.webkitRequestFullscreen();
                else if (elem.msRequestFullscreen) /* IE11 */ elem.msRequestFullscreen();
            
                document.getElementById("xanh").innerHTML = "<b id=\"custom1540\">FULL M√ÄN H√åNH - ON</b>";
            
                document.getElementById("musix").play();
                document.getElementById("music").play();
            
                document.getElementById("xplay1").style.display = "none";
                document.getElementById("xplay2").style.display = "none";
                // resetKaraoke();
            }
            
            function xemplayX() {
                //if ('@ViewBag.SuDung' == "Youtube")
                //{
                //document.getElementById("phanphoi").innerHTML= "<iframe id=\"myVideo\" src=\""+'@ViewBag.Background'+"\"></iframe>";
                //}
                //else if ('@ViewBag.SuDung' == "Video")
                // {
                //     document.getElementById("myVideo").currentTime = 0;
                // }
            
                //dongmomenu();
                //if (elem.requestFullscreen)
                //            elem.requestFullscreen();
                //             else if (elem.webkitRequestFullscreen) /* Safari */
                //            elem.webkitRequestFullscreen();
                //           else if (elem.msRequestFullscreen) /* IE11 */
                //            elem.msRequestFullscreen();
            
                //            document.getElementById("xanh").innerHTML = "<b>FULL M√ÄN H√åNH - ON</b>";
            
                document.getElementById("musix").play();
                document.getElementById("music").play();
            
                document.getElementById("xplay1").style.display = "none";
                document.getElementById("xplay2").style.display = "none";
                duMusic = 0;
                // resetKaraoke();
            }
            
            function PlayXKaraokeX() {
                document.getElementById("music").pause();
                youX = false;
            }
            
            function changeKara() {
                var chon = document.getElementById("chon").options.selectedIndex;
            
                if (chon == 0) {
                    document.getElementById("music").muted = false;
                    document.getElementById("musix").muted = true;
                } else {
                    document.getElementById("music").muted = true;
                    document.getElementById("musix").muted = false;
                }
            }
            
              var loadxong = 0;
            
            function chonsongtulist()
            {
                if (loadxong == 0) return;
            
                document.getElementById("baihatXYZ").innerHTML = "<img style=\"width: 50px; height: 50px;\" id=\"loadingX\" src=\"/Image_Play/waiting.gif\" />";
            
                var baihatcu = document.getElementById("baihatXYZ").innerHTML;
            
                var thutu = new Number(document.getElementById("listSongKara").options.selectedIndex) + 1;
                 var maxthutu = new Number(document.getElementById("thutu").max);
                var url = "@ViewBag.LoginServer";
            
                  var formData = new FormData();
                        formData.append("url", url);
                        formData.append("index", thutu);
            
            $.ajax({
            url: "/Admin/Karaoke_Ajax_Call",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
            
                if (data.error == "true")
                {
                    alert("ƒê√£ x·∫£y ra l·ªói. Vui l√≤ng th·ª≠ l·∫°i sau!");
                    document.getElementById("baihatXYZ").innerHTML = baihatcu;
                    DungKaraoke();
                    return;
                }
            
               document.getElementById("musix").src = data.mp3_goc;
               document.getElementById("music").src = data.mp3_kara;
               document.getElementById("txtKara").value = data.text_kara;
               document.getElementById("thutu").value = thutu;
                ndTK = data.text_content.replaceAll("&#xA;", "\n").split("\n");
                  if (ndTK != "")
                        {
                            document.getElementById("s_mau").style.display = "none";
                        }
                        else
                        {
                            document.getElementById("s_mau").style.display = "inline-block";

                            document.getElementById("mau").value = mau_default;
                            doimau();
                        }
                        hasSinger = data.singer;
                        if (hasSinger == "true")
                        {
                            document.getElementById("chon").style.display = "none";
                        }
                        else
                        {
                            document.getElementById("chon").style.display = "inline-block";
                            document.getElementById("chon").options.selectedIndex = 0;
                            changeKara();
                        }
               document.getElementById("thutuXYZ").innerHTML = "Hu·ª∑ tr√¨nh ph√°t Karaoke t·ª± ƒë·ªông";
               if ('@TempData["ajax_js"]' == "false")
               {
                   document.getElementById("thutuXYZ").innerHTML += " (ƒë√£ ph√°t : "+ thutu + "/" + maxthutu + ")"
               }
            
               document.getElementById("baihatXYZ").innerHTML = data.tenbaihat;


               var formData = new FormData();
                    formData.append("url", "@ViewBag.LoginServer");
                    formData.append("baihat", data.tenbaihat);
                    formData.append("option", "5");

                     $.ajax({
                        url: "/Admin/GetInfoKaraokeServerForShare",
                        type: "POST",
                        data: formData,
                        contentType: false,
                        processData: false,
                        success: function(data) {
            
                        document.getElementById("linkKara").value = data.result;
                        }});

               document.getElementById("listSongKara").blur();
               resetKaraoke();
            }});
            }
            
            function loadlistSong()
            {
                if (loadxong == 1) return;
            
                var url = "@ViewBag.LoginServer";
                  var formData = new FormData();
                        formData.append("url", url);
            
            $.ajax({
            url: "/Admin/ListSongKaraoke_Call",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
            
               var content = data.content;
            
               var listSong = content.split('\n');
            
               document.getElementById("listSongKara").innerHTML = "";
               for (var i  = 0; i < listSong.length; i++)
               {
                   if (listSong[i] == "") continue;

                   document.getElementById("listSongKara").innerHTML += "<option>"+ listSong[i] + "</option>";
               }
               loadxong = 1;
            }});
            }
            
            function StopKaraoke() {
                var url = "@ViewBag.LoginServer";
                var baihat = "@ViewBag.BHServer";
            
                var thongtin = url + "[NONE]" + "-.-" + baihat + "[NONE]" + "-.-[NOT]-.-0";
            
                if ("@ViewBag.Share" != "YES - OK")
                {
                    if ('@TempData["ajax_js"]' == "true" && '@TempData["index-auto"]' != null && '@TempData["index-auto"]' != "")
                    {
                var thutu = new Number(document.getElementById("thutu").value);
                var maxthutu = new Number(document.getElementById("thutu").max);
            
                                if (thutu + 1 <= maxthutu)
                                thutu = thutu + 1;
                                else
                                thutu = 1;
            
                        var formData = new FormData();
                        formData.append("url", url);
                        formData.append("index", thutu);
            
            $.ajax({
            url: "/Admin/Karaoke_Ajax_Call",
            type: "POST",
            data: formData,
            contentType: false,
            processData: false,
            success: function(data) {
            
                if (data.error == "true")
                {
                    alert("ƒê√£ x·∫£y ra l·ªói. Vui l√≤ng th·ª≠ l·∫°i sau!");
                    DungKaraoke();
                    return;
                }
            
               document.getElementById("musix").src = data.mp3_goc;
               document.getElementById("music").src = data.mp3_kara;
               document.getElementById("txtKara").value = data.text_kara;
               document.getElementById("thutu").value = thutu;
               document.getElementById("thutuXYZ").innerHTML = "Hu·ª∑ tr√¨nh ph√°t Karaoke t·ª± ƒë·ªông";
                ndTK = data.text_content.replaceAll("&#xA;", "\n").split("\n");
                  if (ndTK != "")
                        {
                            document.getElementById("s_mau").style.display = "none";
                        }
                        else
                        {
                            document.getElementById("s_mau").style.display = "inline-block";

                            document.getElementById("mau").value = mau_default;
                            doimau();
                        }
                        hasSinger = data.singer;
                        if (hasSinger == "true")
                        {
                            document.getElementById("chon").style.display = "none";
                        }
                        else
                        {
                            document.getElementById("chon").style.display = "inline-block";
                            document.getElementById("chon").options.selectedIndex = 0;
                            changeKara();
                        }
               if ('@TempData["ajax_js"]' == "false")
               {
                   document.getElementById("thutuXYZ").innerHTML += " (ƒë√£ ph√°t : "+ thutu + "/" + maxthutu + ")"
               }
               document.getElementById("baihatXYZ").innerHTML = data.tenbaihat;

               if ('@TempData["ajax_js"]' == "false")
               {
                var formData = new FormData();
                    formData.append("url", "@ViewBag.LoginServer");
                    formData.append("baihat", data.tenbaihat);
                    formData.append("option", "5");

                     $.ajax({
                        url: "/Admin/GetInfoKaraokeServerForShare",
                        type: "POST",
                        data: formData,
                        contentType: false,
                        processData: false,
                        success: function(data) {
            
                        document.getElementById("linkKara").value = data.result;
                        }});
                }

               document.getElementById("listSongKara").options.selectedIndex = thutu - 1;
               resetKaraoke();
            }});
            
                        return;
                    }
                    window.location.href = "/Home/XoaKaraoke?id=" + thongtin + "&&ip=" + '@TempData["userIP"]';
                }
                else 
                {
                      window.location.href = "/Home/XoaKaraoke" + "?ip=" + '@TempData["userIP"]';
                }
            }
            
            function DungKaraoke() {
                var url = "@ViewBag.LoginServer";
                var baihat = "@ViewBag.BHServer";
            
                var thongtin = url + "[NONE]" + "-.-" + baihat + "[NONE]" + "-.-[NOT]-.-0";
            
                if ("@ViewBag.Share" != "YES - OK") window.location.href = "/Home/XoaKaraoke?id=" + thongtin + "&&cancel=true";
                else window.location.href = "/Home/XoaKaraoke?cancel=true";
            }
            
            var time_xuathien = [];
            var time_luuvet = [];
            
            var h_xh = [];
            var h_le = [];
            
            var so = 0;
            
            var mau = "#2900f5";
            var mauX = "#efe6e6";
            var kieuchu = 0;
            var kieudemnguoc = "N";
            
            var mau_default = "#2900f5";
            function doimau() {
                mau = document.getElementById("mau").value;
                if (ndTK == "" || ndTK == null) mau_default = mau;
                document.getElementById("xemthumau").style.color = mau;
                if (document.getElementById("xanhX1") != null)
               document.getElementById("xanhX1").style.setProperty("--color", mau);
                if (document.getElementById("xanhX2") != null)
               document.getElementById("xanhX2").style.setProperty("--color", mau);
            }
            
            function doimaunex_Save() {
                if (localStorage.getItem("maunex") == null
                ||  document.getElementById("maunex") == null) return;
            
                document.getElementById("maunex").value = localStorage.getItem("maunex");
            }
            
            function doianhmo_Save() {
                if (localStorage.getItem("anhmo") == null
                ||  document.getElementById("anhmo") == null) return;
            
                document.getElementById("anhmo").value = localStorage.getItem("anhmo");
            }
            
            function doimaunen_Save() {
                if (localStorage.getItem("maunen") == null || '@TempData["codinh"]' == "true"
                ||  document.getElementById("maunenX") == null) return;
            
                if (localStorage.getItem("maunen") != "none" && localStorage.getItem("maunen") != "blue") {
                    var maunen = localStorage.getItem("maunen");
                    document.getElementById("maunenX").value = maunen;
            
                    doimaunenX();
                } else if (localStorage.getItem("maunen") == "none") {
                    useMauNen = 2;
                    xoamaunen();
                } else if (localStorage.getItem("maunen") == "blue") {
                    xoamaunen();
                }
            }

            var lox_BH = 0;
            setInterval(function()
            {
                if (lox_BH == 1) return;

                if(document.getElementById("listSongKara") != null)
                {
                    loadlistSong();
                    lox_BH = 1;
                }

            }, 100);
            
            function doimau_Save() {
                if (localStorage.getItem("mau") == null
                 || document.getElementById("mau") == null || document.getElementById("xanhX1") == null || document.getElementById("xanhX2") == null ||  document.getElementById("xemthumau") == null) return;
            
                mau = localStorage.getItem("mau");
                if (ndTK == "" || ndTK == null) mau_default = mau;
                document.getElementById("mau").value = mau;
            
                document.getElementById("xemthumau").style.color = mau;
                document.getElementById("xanhX1").style.setProperty("--color", mau);
                document.getElementById("xanhX2").style.setProperty("--color", mau);
            }
            
            function doimauX() {
                mauX = document.getElementById("mauX").value;
                document.getElementById("xemmauthu").style.color = mauX;
                //-- document.getElementById("txtKaraoke1").style.color = document.getElementById("mauX").value;
                //-- document.getElementById("txtKaraoke2").style.color = document.getElementById("mauX").value;
                 if (document.getElementById("xanhX1") != null)
                document.getElementById("xanhX1").style.setProperty("--colox", mauX);
                 if (document.getElementById("xanhX2") != null)
                document.getElementById("xanhX2").style.setProperty("--color", mauX);
            }
            
            function doimauX_Save() {
                if (localStorage.getItem("mauX") == null
                || document.getElementById("mauX") == null || document.getElementById("xanhX1") == null || document.getElementById("xanhX2") == null ||  document.getElementById("xemmauthu") == null) return;
  
                mauX = localStorage.getItem("mauX");
                document.getElementById("mauX").value = mauX;
                document.getElementById("xemmauthu").style.color = mauX;
                //-- document.getElementById("txtKaraoke1").style.color = document.getElementById("mauX").value;
                //-- document.getElementById("txtKaraoke2").style.color = document.getElementById("mauX").value;
                document.getElementById("xanhX1").style.setProperty("--colox", mauX);
                document.getElementById("xanhX2").style.setProperty("--color", mauX);
            }
            
            function doimauY_Save() {
                if (localStorage.getItem("mauY") == null
                || document.getElementById("mauY") == null || document.getElementById("xemmaudi") == null || document.getElementById("number") == null) return;
            
                document.getElementById("mauY").value = localStorage.getItem("mauY");
                document.getElementById("xemmaudi").style.color = localStorage.getItem("mauY");
                document.getElementById("number").style.color = localStorage.getItem("mauY");
            }
            
            function doimauY() {
                document.getElementById("xemmaudi").style.color = document.getElementById("mauY").value;
                document.getElementById("number").style.color = document.getElementById("mauY").value;
            }
            
            // function doidotre_Save()
            //{
            //    if (localStorage.getItem("dotre") == null)
            //    return;
            
            //     dotre = localStorage.getItem("dotre");
            //     document.getElementById("dotre").value = dotre;
            //}
            
            function doikieuchu_Save() {
                if (localStorage.getItem("kieuchu") == null
                ||  document.getElementById("fontKieu") == null) return;
            
                kieuchu = localStorage.getItem("kieuchu");
            
                var kieuchuLength =  document.getElementById("fontKieu").options.length;
            
                if (kieuchu >= kieuchuLength)
                {
                    kieuchu = 0;
                    localStorage.setItem("kieuchu", 0);
                }
            
                document.getElementById("fontKieu").options.selectedIndex = kieuchu;
            }
            
            function doiFontKieu() {
                var index = document.getElementById("fontKieu").options.selectedIndex;
                var kieuchu = document.getElementById("fontKieu").options[index].value;
            
                document.getElementById("txtKaraoke1").style.fontFamily = kieuchu;
                document.getElementById("txtKaraoke2").style.fontFamily = kieuchu;
            }
            
            // function doidotre()
            //{
            //    var dotre = document.getElementById("dotre").value;
            //    if (isNaN(dotre))
            //    {
            //        dotre = "0.3";
            //        document.getElementById("dotre").value = dotre;
            //    }
            //}
            
            function doikieudemnguoc() {
                var kieudemnguoc = document.getElementById("kieudemnguoc").value;
                var kt = new Number(document.getElementById("kichthuoc").value);
                if (kieudemnguoc == "N" || kieudemnguoc == "") {
                    kieudemnguoc = "N";
                    document.getElementById("kieudemnguoc").value = kieudemnguoc;
                    document.getElementById("number").style.fontSize = kt + "px";
                } else {
                    document.getElementById("number").style.fontSize = kt / 2 + "px";
                }
            }
            
            function doikieudemnguoc_Save() {
                if (localStorage.getItem("kieudemnguoc") == null
                ||  document.getElementById("kieudemnguoc") == null) return;
            
                kieudemnguoc = localStorage.getItem("kieudemnguoc");
                document.getElementById("kieudemnguoc").value = kieudemnguoc;
            }
            
            var LBH;
            var flg = 0;
            
            var loadover = 0;
            var flix = 0;
            
            var id = setInterval(myAlert, 100);
            
            var ndTK = '@TempData["TK-KARA"]'.replaceAll("&#xA;", "\n").split("\n");
            var hasSinger = '@TempData["hassinger"]';
            
            var nanFirst = 0;

            function getRandomColor() {
              const r = Math.floor(Math.random() * 256);
              const g = Math.floor(Math.random() * 256);
              const b = Math.floor(Math.random() * 256);

              return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
            }

            var random_font_index = 0;
            
            function myAlert() {
                if (flag == 0) {
                    LBH = document.getElementById("txtKara").value.split(/\r|\n/);
            
                    //             if (dFlag == 0 && LBH.length == 1)
                    //            {
                    //                 document.getElementById("message").style.display = "block";
                    //  document.getElementById("error").style.display = "block";
                    //document.getElementById("error").innerHTML = "‚ö†Ô∏è C·∫£nh b√°o, h·ªá th·ªëng kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c d·ªØ li·ªáu v√† n·ªôi dung Karaoke c·ªßa b·∫°n. Nguy√™n nh√¢n c√≥ th·ªÉ do b·∫£n text Karaoke c·ªßa b·∫°n ƒë√£ t·∫£i l√™n c√≥ n·ªôi dung ƒë∆∞·ª£c m√£ ho√°, vui l√≤ng th·ª≠ gi·∫£i m√£ v√† th·ª±c hi·ªán l·∫°i !";
                    //              dFlag = 1;
                    //            }
            
                    var k = 0;
                    for (var i = 0; i < LBH.length; i++) {
                        var ss = LBH[i].split("#");
                        time_xuathien[k] = new Number(ss[0]);
                        LBH[k] = ss[1];
                        if (ss[1] != "[Empty]" && ss[1] != "[Empty-X]" && ss[1] != "[Music]") {
                            time_luuvet[k] = ss[2];
                        }
                        k++;
                    }
            
                    flag = 1;
                }
            
                if (flix == 0) {
                    var height = screen.height;
                    var width = screen.width;
            
                    var kichthuoc = new Number(width / 19).toFixed();
                    var vitri = new Number(height / 170).toFixed();
            
                    if ('@TempData["TK-Kara"]' != "" || '@TempData["codinh"]' == "true") {
                        vitri = 0;
                        document.getElementById("hang").value = vitri;
                    }
            
                    if (localStorage.getItem("kichthuoc") == null) {
                        document.getElementById("kichthuoc").value = kichthuoc;
                        doikichthuoc();
                    }
            
                    if ('@TempData["codinh"]' == "false" && localStorage.getItem("hang") == null) document.getElementById("hang").value = vitri;
            
                    flix = 1;
                }
            
                if (you == false || youX == false) return;
            
                if (loadover != 3) {
                    var music = document.getElementById("music").readyState;
                    var musix = document.getElementById("musix").readyState;
                    if (music != 4 || musix != 4) {
                        if ('@TempData["boquathongbao"]' == "false") {
                            document.getElementById("error").style.display = "block";
                            document.getElementById("message").style.display = "block";
                            document.getElementById("loadingX").style.display = "inline-block";
                            document.getElementById("error").innerHTML =
                                "N·ªôi dung karaoke c·ªßa b·∫°n ƒëang ƒë∆∞·ª£c t·∫£i (h√£y ki√™n nh·∫´n ch·ªù ƒë·ª£i cho ƒë·∫øn khi th√¥ng b√°o n√†y ƒë∆∞·ª£c t·∫Øt). L∆∞u √Ω : b·∫£n nh·∫°c s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c ph√°t l·∫°i ngay sau khi vi·ªác load ho√†n t·∫•t !";
                            notice = 1;
                        }
                        loadover = 1;
                    } else {
                        document.getElementById("loadingX").style.display = "none";
                        if (loadover == 1) {
                            loadover = 2;
                        }
            
                        if (nanFirst == 0 && '@TempData["boquathongbao"]' == "false") {
                            document.getElementById("message").style.display = "block";
                            document.getElementById("error").style.display = "block";
                            document.getElementById("error").innerHTML = 'Xin l·ªói v√¨ s·ª± b·∫•t ti·ªán : khi l·∫ßn ƒë·∫ßu ti√™n b·∫°n truy c·∫≠p v√†o ƒë√¢y, vui l√≤ng click n√∫t "Kh·ªüi ƒë·ªông l·∫°i" b√™n d∆∞·ªõi sau khi nh·∫°c ƒë√£ ph√°t ƒë∆∞·ª£c v√†i gi√¢y.<br />N·∫øu b·∫°n c·∫£m th·∫•y ti·∫øn tr√¨nh ch·∫°y m√†u ch·ªØ kh√¥ng k·ªãp ti·∫øn ƒë·ªô c·ªßa l·ªùi nh·∫°c th·ª±c t·∫ø th√¨ h√£y th·ª≠ reset l·∫°i mp3 v√†i l·∫ßn ho·∫∑c ki·ªÉm tra/t·∫°o l·∫°i b·∫£n TXT karaoke c·ªßa b·∫°n üòÅ';
                            notice = 1;
                            nanFirst = 1;
                        }
                    }
            
                    if (loadover == 2) {
                        loadover = 3;
                        resetKaraoke();
                    }
                }
            
                if (flg == 0 && '@TempData["R-fontkieu"]' != "" && '@TempData["R-fontKieu"]' != "") {
                    //if ('@TempData["R-hang"]' != null && '@TempData["R-hang"]' != "")
                    //{
                    //    var hangR = '@TempData["R-hang"]';
                    //    document.getElementById("hang").value = hangR;
            
                    //                             var hax = "";
                    //    for (var i  =0; i < hangR; i++)
                    //    hax += "<br>";
            
                    //    document.getElementById("hienthi").innerHTML = hax;
                    //}
            
                    if ('@TempData["R-mau"]' != null && '@TempData["R-mau"]' != "") {
                        var mauR = "#" + '@TempData["R-mau"]';
                        mau = mauR;
                        document.getElementById("mau").value = mauR;
            
                        document.getElementById("xemthumau").style.color = mauR;
                        //document.getElementById("xanhX1").style.setProperty("--color", mauR);
                        //document.getElementById("xanhX2").style.setProperty("--color", mauR);
                    }
            
                    document.getElementById("mauX").value = "#" + '@TempData["R-mauX"]';
                    document.getElementById("xemmauthu").style.color = "#" + '@TempData["R-mauX"]';
                    //document.getElementById("xanhX1").style.setProperty("--colox", "#"+'@TempData["R-mauX"]');
                    mauX = "#" + '@TempData["R-mauX"]';
                    // document.getElementById("xanhX2").style.setProperty("--color", "#"+'@TempData["R-mauX"]');
            
                    document.getElementById("mauY").value = "#" + '@TempData["R-mauY"]';
                    document.getElementById("xemmaudi").style.color = "#" + '@TempData["R-mauY"]';
                    document.getElementById("number").style.color = "#" + '@TempData["R-mauY"]';
            
                    //   document.getElementById("kichthuoc").value = '@TempData["R-kichthuoc"]';
                    //   var kt = '@TempData["R-kichthuoc"]' + "px";
                    //  document.getElementById("txtKaraoke1").style.fontSize = kt;
                    //document.getElementById("txtKaraoke2").style.fontSize = kt;
                    //document.getElementById("number").style.fontSize = kt;
            
                    document.getElementById("fontKieu").options.selectedIndex = new Number('@TempData["R-fontkieu"]');
                    doiFontKieu();
            
                    document.getElementById("demnguockieu").innerHTML = '@TempData["R-kieudemnguoc"]';
                    document.getElementById("kieudemnguoc").value = document.getElementById("demnguockieu").innerHTML;
                    kieudemnguoc = '@TempData["R-kieudemnguoc"]';
                    doikieudemnguoc();
            
                    document.getElementById("maunex").value = "#" + '@TempData["R-maunex"]';
                    document.getElementById("anhmo").value = '@TempData["R-anhmo"]';
                    moanh();
                    flg = 1;
                }
            
                // Thay doi tu cai dat da luu
                if (flg == 0 && "@ViewBag.Share" != "YES - OK") {
                    doimau_Save();
                    doihang_Save();
                    doimauX_Save();
                    doimauY_Save();
                    doikichthuoc_Save();
                    doikieuchu_Save();
                    doiFontKieu();
                    doikieudemnguoc_Save();
                    doikieudemnguoc();
                    // doidotre_Save();
            
                    doimaunen_Save();
                    doimaunex_Save();
                    doianhmo_Save();
                    moanh();
            
                    flg = 1;
                }
            
                if (t % 5 == 0) {
                    if (!window.screenTop && !window.screenY) {
                        document.getElementById("xanh").innerHTML = "<b id=\"custom1540\">FULL M√ÄN H√åNH - OFF</b>";
                        var menu = document.getElementById("menu");
                        var hienlinh = document.getElementById("hienlinh");
            
                        const detectDeviceType = () =>
                            // Use a regular expression to test the userAgent string for common mobile device identifiers.
                            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
                                ? "Mobile" // If any of the identifiers are found, return 'Mobile'.
                                : "Desktop"; // Otherwise, return 'Desktop'.
            
                        //if (detectDeviceType() == "Desktop" && menu.style.display != "block") {
                        //    menu.style.display = "block";
                        //    hienlinh.style.display = "none";
                        //}
                    } else document.getElementById("xanh").innerHTML = "<b id=\"custom1540\">FULL M√ÄN H√åNH - ON</b>";
                }
            
                t++;
            
                if (t == 15 && flix == 0) {
                    resetKaraoke();
                    resetKaraoke();
                    resetKaraoke();
            
                    flix = 1;
                }
            
                //if (h_xh[kf] !== undefined)
                //{
                //     if (h_xh[kf+1] === undefined)
                //    {
                //        so = time_xuathien[n] - h_xh[kf];
                //    }
                //    else
                //    {
                //       so = h_xh[kf+1] - h_xh[kf];
                //    }
                //}
            
                document.getElementById("thietkeKara").style.fontSize = document.getElementById("kichthuoc").value + "px";
            
                if (t == time_xuathien[n]) {

                    h_xh = [];
                    h_le = [];
            
                    if (LBH[n] != "[Empty]" && LBH[n] != "[Empty-X]" && LBH[n] != "[Music]") {

                if ('@TempData["random_font"]' == "true")
                {
                    var fontKieuF = document.getElementById("fontKieu");
                    fontKieuF.options.selectedIndex = random_font_index;
                    doiFontKieu();
                    random_font_index++;
                    if (random_font_index >= fontKieuF. options.length)
                    {
                        random_font_index = 0;
                    }
                }

                if ('@TempData["random_color"]' == "true")
                {
                    document.getElementById("mau").value = getRandomColor();
                    document.getElementById("mauX").value = getRandomColor();
                    doimau();
                    doimauX();
                }

                        var s = time_luuvet[n].split(",");
            
                        for (var i = 0; i < s.length; i++) {
                            var ss = s[i].split("-");
                            h_xh[kk] = new Number(ss[0]);
                            h_le[kk] = new Number(ss[1]);
                            kk++;
                        }
            
                        if ('@TempData["TK-KARA"]' != "" || ndTK != "") {
                            var x = ndTK[ix % ndTK.length].split("=");
                            if (x[0] == time_xuathien[n] + "") {
                                document.getElementById("mau").value = x[2];
                                mau = document.getElementById("mau").value;
                                  document.getElementById("temp_text").value = x[1];
                                document.getElementById("thietkeKara").innerHTML = document.getElementById("temp_text").value;
                                document.getElementById("thietkeKara").style.color = x[2];
            
                                //Check member is has singer
            
                                if ('@TempData["casi"]' == "true") {
                                    if (hasSinger == "true") {
                                        if (x[1] == "[SINGER]") {
                                            document.getElementById("thietkeKara").innerHTML = "";
                                            document.getElementById("chon").options.selectedIndex = 1;
                                            changeKara();
                                        } else {
                                            document.getElementById("chon").options.selectedIndex = 0;
                                            changeKara();
                                        }
                                    }
                                }
            
                                ix++;
                            }
                        }
                    }
            
                    document.getElementById("txtKaraoke1").innerHTML = '<span id="xanhX1" class="word"></span>';
                    document.getElementById("txtKaraoke2").innerHTML = '<span id="xanhX2" class="work"></span>';
            
                    $("#xanhX2").addClass("work").attr("data-content", "");
                    $("#xanhX1").addClass("word").attr("data-content", "");
            
                    if (('@TempData["TK-KARA"]' != "" && LBH[n] == "\t*") && ndTK != "") {
                        document.getElementById("thietkeKara").innerHTML = "";
                    }
            
                    if (LBH[n] == "[Empty]" || LBH[n] == "[Empty-X]" || LBH[n] == "[Music]") {
                        document.getElementById("txtKaraoke1").innerHTML = "";
                        document.getElementById("txtKaraoke2").innerHTML = "";
                        document.getElementById("txtKara1").value = "";
                        document.getElementById("txtKara2").value = "";
                        if ('@TempData["TK-KARA"]' != "" && ndTK != "") document.getElementById("thietkeKara").innerHTML = "";
                    } else {
                        var sing = LBH[n].split("*");
            
                        //-- document.getElementById("txtKaraoke1").innerHTML = new String(sing[0]).toUpperCase().replace("UNDEFINED","").replace("undefined","");
            
                        //-- document.getElementById("txtKaraoke2").innerHTML = new String(sing[1]).toUpperCase().replace("UNDEFINED","").replace("undefined","");
            
                        var word1 = document.getElementById("xanhX1");
                        word1.style.setProperty("--colox", mauX);
                        word1.style.setProperty("--color", mau);
                        var xuan1 = new String(sing[0]).replace("UNDEFINED", "").replace("undefined", "");
            
                        if ('@TempData["inhoa"]' == "true") xuan1 = xuan1.toUpperCase();
            
                        word1.innerHTML = xuan1;
            
                        var word2 = document.getElementById("xanhX2");
                        word2.style.setProperty("--colox", mauX);
                        word2.style.setProperty("--color", mau);
                        var xuan2 = new String(sing[1]).replace("UNDEFINED", "").replace("undefined", "");
            
                        if ('@TempData["inhoa"]' == "true") xuan2 = xuan2.toUpperCase();
            
                        word2.innerHTML = xuan2;
            
                        document.getElementById("txtKara1").value = sing[0];
                        document.getElementById("txtKara2").value = sing[1];
                    }
            
                    //txtKaraoke1.Select(0, LBH[n].Length + 1);
                    //txtKaraoke1.SelectionColor = Color.White;
                    //txtKaraoke2.Select(0, LBH[n].Length + 1);
                    //txtKaraoke2.SelectionColor = Color.White;
                    n++;
            
                    //  so1 = h_xh[kf];
                    // so2 = h_xh[kf + (sing[0].split(' ').length -1)];
                    // so1X = h_xh[kf + sing[0].split(' ').length];
                    //so2X = h_xh[kf + (sing[0].split(' ').length + sing[1].split(' ').length - 1)];
                    // so2X = time_xuathien[n];
            
                    //so = (h_xh[kf+1] - h_xh[kf])/2.8;
            
                    // var so0 = h_xh[kf-1];
            
                    //       var so1 = h_xh[kf];
                    //       var so2 = 0;
                    //       if (h_xh[kf+1] === undefined || h_xh[kf+1] == null)
                    //       so2 = time_xuathien[n];
                    //       else
                    //       so2 = h_xh[kf+1];
            
                    //       var nan = 0.3;
            
                    //       if (so2 - so1 >= 15)
                    //       nan = 1;
            
                    //       // document.getElementById("message").style.display = "block";
                    //  document.getElementById("error").style.display = "block";
                    //document.getElementById("error").innerHTML = (so2 - so1) + " - "+so1+ " - "+so2;
            
                    //       so = ((so2 - so1) /10) + nan;
            
                    //if (so2 - so1 < 3)
                    // so = 0.3;
                    // else
                    // if (so2 - so1 < 7)
                    // so = 0.8;
                    // else
                    // if (so2 - so1 < 10)
                    // so = 1.3;
                    //  else
                    // if (so2 - so1 < 13)
                    // so = 1.8;
                    //  else
                    // if (so2 - so1 < 16)
                    // so = 2.3;
                    //  else
                    // if (so2 - so1 < 19)
                    // so = 2.8;
                    // else
                    // if (so2 - so1 < 22)
                    // so = 3.3;
                    //  else
                    // if (so2 - so1 < 25)
                    // so = 3.8;
                    //  else
                    // if (so2 - so1 < 28)
                    // so = 4.3;
                    //  else
                    // so = 4.8;
            
                    //soA = (so2 - so1) / 3.2;
                    //soB = (so2X - so1X) / (90/13);
                    //alert(h_xh[0] +" - "+ h_xh[1] +" - "+ h_xh[2]+" - " + h_xh[3]+" - " + h_xh[4]);
                }
            
                var so1 = h_xh[kf];
                var so2 = 0;
                if (h_xh[kf + 1] === undefined || h_xh[kf + 1] == null) so2 = time_xuathien[n];
                else so2 = h_xh[kf + 1];
            
                var nan = 0.3;
            
                so = (so2 - so1) / 10;
            
                if (n > 1 && (LBH[n - 1] == "[Empty]" || LBH[n - 1] == "[Music]") && empty == -1) {
                    empty = kf;
                }
            
                if (LBH[n - 3] == "[Empty]" || LBH[n - 3] == "[Music]") empty = -1;
            
                if ((t >= h_xh[0] - 28 && t <= h_xh[0] - 1) || (t >= h_xh[empty] - 28 && t <= h_xh[empty] - 1)) {
                    var hang = new Number(document.getElementById("hang").value);
                    var hax = "";
                    for (var i = 0; i < hang - 5; i++) hax += "<br>";
            
                    document.getElementById("hienthi").innerHTML = hax;
                } else doihang();
            
                if (h_xh != null && (t == h_xh[0] - 8 || (empty != -1 && t == h_xh[empty] - 8))) {
                    var xa = document.getElementById("kieudemnguoc").value;
                    if (xa == "N") document.getElementById("number").innerHTML = "1";
                    else document.getElementById("number").innerHTML = xa;
                }
            
                if (h_xh != null && (t == h_xh[0] - 18 || (empty != -1 && t == h_xh[empty] - 18))) {
                    var xa = document.getElementById("kieudemnguoc").value;
                    if (xa == "N") document.getElementById("number").innerHTML = "2";
                    else document.getElementById("number").innerHTML = xa + " " + " " + xa;
                }
            
                if (h_xh != null && (t == h_xh[0] - 28 || (empty != -1 && t == h_xh[empty] - 28))) {
                    var xa = document.getElementById("kieudemnguoc").value;
                    if (xa == "N") document.getElementById("number").innerHTML = "3";
                    else document.getElementById("number").innerHTML = xa + " " + " " + xa + " " + xa;
                }
            
                var xinloi = document.getElementById("txtKara1").value.split(" ");
            
                var kara1 = document.getElementById("txtKara1").value;
                var kara2 = document.getElementById("txtKara2").value;
            
                if (h_xh != null && t == h_xh[kf]) {
                    if (h_le[kf] <= kara1.length + xinloi[xinloi.length - 1].length) {
                        var ct1 = kara1.substring(0, h_le[kf]).replace("UNDEFINED", "").replace("undefined", "");
            
                        if ('@TempData["inhoa"]' == "true") ct1 = ct1.toUpperCase();
            
                        var ct2 = kara1
                            .substring(h_le[kf], h_le[kf + 1])
                            .replace("UNDEFINED", "")
                            .replace("undefined", "");
            
                        if ('@TempData["inhoa"]' == "true") ct2 = ct2.toUpperCase();
            
                        var ct3 = kara1
                            .substring(h_le[kf + 1], kara1.length)
                            .replace("UNDEFINED", "")
                            .replace("undefined", "");
            
                        if ('@TempData["inhoa"]' == "true") ct3 = ct3.toUpperCase();
            
                        if (ct3 != "" && ct2 != "") ct2 = ct2.replace(" ", "");
            
                        document.getElementById("txtKaraoke1").innerHTML = '<span style="color:' + mau + '">' + ct1 + '</span><span id="xanhX1" class="word">' + ct2 + '</span>&nbsp;<span style="color:' + mauX + '">' + ct3 + "</span>";
                        var word1 = document.getElementById("xanhX1");
            
                        $("#xanhX1").addClass("word").attr("data-content", ct2.replace(" ", ""));
                        $("#xanhX2").addClass("work").attr("data-content", "");
            
                        word1.style.setProperty("--color", mau);
                        word1.style.setProperty("--colox", mauX);
                        word1.style.setProperty("--animation", so + "s");
                    } else {
                        var ct1 = kara2
                            .substring(0, h_le[kf] - kara1.length - 2)
                            .replace("UNDEFINED", "")
                            .replace("undefined", "")
                            .trim();
            
                        if ('@TempData["inhoa"]' == "true") ct1 = ct1.toUpperCase().trimEnd();
            
                        var ct2 = kara2
                            .substring(h_le[kf] - kara1.length - 2, h_le[kf + 1] - kara1.length - 2)
                            .replace("UNDEFINED", "")
                            .replace("undefined", "")
                            .trim();
            
                        if ('@TempData["inhoa"]' == "true") ct2 = ct2.toUpperCase().trimEnd();
            
                        var ct3 = kara2
                            .substring(h_le[kf + 1] - kara1.length - 2, kara2.length)
                            .replace("UNDEFINED", "")
                            .replace("undefined", "")
                            .trim();
            
                        if ('@TempData["inhoa"]' == "true") ct3 = ct3.toUpperCase().trimEnd();
            
                        if (ct1.length == kara2.length) {
                            ct2 = "";
                            ct3 = "";
                        }
            
                        if (h_le[kf + 1] == null || h_le[kf + 1] === undefined)
                            document.getElementById("txtKaraoke2").innerHTML =
                                '&nbsp;&nbsp;<span style="color:' + mau + '">' + ct1 + '</span>&nbsp;<span id="xanhX2" class="work">' + ct2.replace(" ", "") + '</span>&nbsp;<span style="color:' + mauX + '">' + ct3 + "</span>";
                        else if (h_le[kf + 2] == null || h_le[kf + 2] === undefined)
                            document.getElementById("txtKaraoke2").innerHTML =
                                '&nbsp;<span style="color:' + mau + '">' + ct1 + '</span>&nbsp;<span id="xanhX2" class="work">' + ct2.replace(" ", "") + '</span>&nbsp;<span style="color:' + mauX + '">' + ct3 + "</span>";
                        else
                            document.getElementById("txtKaraoke2").innerHTML =
                                '<span style="color:' + mau + '">' + ct1 + '</span>&nbsp;<span id="xanhX2" class="work">' + ct2.replace(" ", "") + '</span>&nbsp;<span style="color:' + mauX + '">' + ct3 + "</span>";
            
                        var word1 = document.getElementById("xanhX2");
            
                        $("#xanhX2").addClass("work").attr("data-content", ct2.replace(" ", ""));
                        $("#xanhX1").addClass("word").attr("data-content", "");
            
                        word1.style.setProperty("--color", mau);
                        word1.style.setProperty("--colox", mauX);
                        word1.style.setProperty("--animation", so + "s");
                    }
                    kf++;
            
                    document.getElementById("number").innerHTML = "";
                }
            }
            
            function democheck() {
                if (document.getElementById("checkdemo").checked == false) {
                    document.getElementById("phan1").style.display = "block";
                    document.getElementById("phan2").style.display = "block";
                    document.getElementById("phan3").style.display = "block";
                    document.getElementById("servercheck").style.display = "block";
                } else {
                    document.getElementById("phan1").style.display = "none";
                    document.getElementById("phan2").style.display = "none";
                    document.getElementById("phan3").style.display = "none";
                    document.getElementById("servercheck").style.display = "none";
                }
            }
            
            function moanh() {
                var x = document.getElementById("myVideo");
            
                if ("@ViewBag.SuDung" == "Video") {
                    x = document.getElementById("myVidex");
                }
            
                var so = new Number(document.getElementById("anhmo").value);
            
                if (so == undefined) {
                    document.getElementById("anhmo").value = "1";
                    so = 1;
                }
            
                if (so > 1 || so < 0) {
                    document.getElementById("anhmo").value = "1";
                    so = 1;
                }
            
                x.style.opacity = so;
                document.getElementById("bodix").style.backgroundColor = document.getElementById("maunex").value;
            }
        </script>
        <audio id="muteplay" autoplay hidden onplaying="ketquaplay()" onpause="playketqua()" onended="playketqua()" muted>
            <source src="/karaoke_Example/ExamKara/KaraokeDemo.mp3" type="audio/mpeg" />
        </audio>
        @if (ViewBag.Share != "YES" && ViewBag.Share != "ERROR") {
        <audio id="music" autoplay hidden onplay="PlayKaraoke()" onplaying="PlayY()" onpause="PlayXKaraoke()" onended="StopKaraoke()">
            <source src="@ViewBag.Music" type="audio/mpeg" />
        </audio>
        <audio id="musix" autoplay hidden muted onplay="ToPlayKaraoke()" onplaying="PlayZ()" onpause="PlayXKaraokeX()" onended="StopKaraoke()">
            <source src="@ViewBag.Musix" type="audio/mpeg" />
        </audio>
        <textarea id="txtKara" hidden>@ViewBag.Karaoke</textarea>
        <input type="text" id="linkKara" style="display: none;" value="@ViewBag.LinkKaraoke" />
        @if (ViewBag.Music == "") { @if (ViewBag.Karaoke == "karaoke") {
        <h3 style="color: aqua;" id="custom1292">
            B·∫°n n√™n tr·∫£i nghi·ªám t√≠nh nƒÉng n√†y tr√™n m√°y t√≠nh (PC), laptop,... nh√© üòÑ<br />
            L∆∞u √Ω : trong khi ƒëang tr·∫£i nghi·ªám Karaoke, b·∫°n kh√¥ng n√™n refresh l·∫°i trang ƒë·ªÉ tr√°nh m·∫•t d·ªØ li·ªáu!
        </h3>
        <br />
        }
        <h2 id="custom1293">@Html.ActionLink("B·∫°n c√≥ mu·ªën tr·∫£i nghi·ªám phi√™n b·∫£n Karaoke c∆° b·∫£n?", "PlayKaraoke")</h2>
        <br />
        <br />
        <table align="center" id="custom1294">
            <h2 style="text-align: center;" id="custom1295">Play Your Karaoke - Online (<span style="color: orange;" id="custom1296">phi√™n b·∫£n th∆∞·ªùng</span>)</h2>
            <br />
            @using (Html.BeginForm("ToPlayKaraoke", "Home", FormMethod.Post, new { @enctype = "multipart/form-data" })) { @Html.ValidationSummary(true)
            <input type="text" id="linkKara" name="LinkKaraoke" style="display: none;" value="@ViewBag.LinkKaraoke" />
            @if (ViewBag.ListSong == null || ViewBag.ListSong.Length == 0) {
            <tr style="height: 40px;" id="custom1297">
                <td id="custom1298"></td>
                <td id="custom1299">
                    <br />
                    <b id="check" style="color: orangered;"><input id="checkdemo" onchange="democheck()" type="checkbox" name="txtChon" /> Tham kh·∫£o b·∫£n karaoke demo c√≥ s·∫µn tr√™n h·ªá th·ªëng</b>
                    <br />
                </td>
            </tr>
            } @if (ViewBag.ListSong == null || ViewBag.ListSong.Length == 0) {
            <tr style="height: 40px;" id="custom1300">
                <td id="custom1301"></td>
                <td id="custom1302">
                    <br />
                    <b id="servercheck" style="color: hotpink;">
                    <input id="onlineServer" onchange="onlinecheck()" type="checkbox" name="txtOnlineServer" />
                    S·ª≠ d·ª•ng host server Karaoke online c·ªßa b·∫°n (m·ªát m·ªèi v√¨ m·ªói l·∫ßn ph·∫£i upload c√°c file t·ª´ local üòÄ)
                    </b>
                    <br />
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1303">
                <td id="custom1304"></td>
                <td id="phan4" style="display: none;">
                    <br />
                    <b id="custom1305"> Nh·∫≠p host Server name Karaoke c·ªßa b·∫°n : </b> <a href="#xuly" onclick="helpKara()" style="color: crimson;">H∆∞·ªõng d·∫´n t·∫°o host Server ƒë·ªÉ play Karaoke c·ªßa b·∫°n</a>
                    <br />
                    <input type="text" id="serverX" name="txtServer" size="80" placeholder="" value="@ViewBag.Server" />
                    <br />
                    <span style="color: red;" id="custom1306">N·∫øu b·∫°n kh√¥ng nh·∫≠p, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông cho b·∫°n tr·∫£i nghi·ªám host server Karaoke m·∫´u c√≥ s·∫µn c·ªßa ch√∫ng t√¥i.</span>
                    <br />
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1307">
                <td id="custom1308"></td>
                <td id="phan5" style="display: none;">
                    <br />
                    <b id="custom1309"> Nh·∫≠p b√†i h√°t Karaoke t·ª´ host server c·ªßa b·∫°n (l∆∞u √Ω nh·∫≠p ch√≠nh x√°c) : </b>
                    <br />
                    <input id="baihatX" type="text" name="txtSong" size="80" placeholder="" value="@ViewBag.BaiHatSV" />
                    <br />
                </td>
            </tr>
            <textarea id="songlist" hidden>@ViewBag.ListSong</textarea>
            <tr style="height: 40px;" id="custom1310">
                <td id="custom1311"></td>
                <td id="phan6" style="display: none;">
                    <br />
                    <b style="color: aqua;" id="custom1312">
                    B·∫≠t m√≠ t·∫°i th∆∞ m·ª•c root tr√™n host server c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ t·∫°o file <span style="color: deeppinkgreen;" id="custom1313">MyListSong.txt</span>, trong ƒë√≥ li·ªát k√™ c√°c b√†i h√°t Karaoke (th∆∞ m·ª•c) ƒëang t·ªìn t·∫°i tr√™n host server c·ªßa b·∫°n,
                    m·ªói b√†i h√°t ph√¢n bi·ªát v√† c√°ch nhau b·ªüi k√≠ t·ª± Enter :
                    </b>
                    <a href="#xuly" onclick="showlist()" style="color: crimson;" id="getlist">Get all list song of your host server</a>
                    &nbsp;||&nbsp; @if (ViewBag.Share != null && ViewBag.Share != "" && ViewBag.Share != "ERROR") {
                    <a href="#xuly" style="color: red;" onclick="playAutoList()">Play Karaoke (t·ª± ƒë·ªông) theo th·ª© t·ª± c·ªßa list song</a>
                    <input hidden type="checkbox" id="autoSong" name="txtAutoSong" />
                    }
                    <br />
                    <br />
                </td>
            </tr>
            } else {
            <tr style="height: 40px;" id="custom1314">
                <td id="custom1315"></td>
                <td id="custom1316">
                    <br />
                    <b id="servercheck" style="color: hotpink;" hidden>
                    <input id="onlineServer" checked onchange="onlinecheck()" type="checkbox" name="txtOnlineServer" />
                    S·ª≠ d·ª•ng host server Karaoke online c·ªßa b·∫°n (m·ªát m·ªèi v√¨ m·ªói l·∫ßn ph·∫£i upload c√°c file t·ª´ local üòÄ)
                    </b>
                    <a href="#xuly" onclick="thoatServer()" style="color: hotpink;">THO√ÅT CH·ª®C NƒÇNG KARAOKE - YOUR HOST SERVER</a>
                    <br />
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1317">
                <td id="custom1318"></td>
                <td id="phan4" style="display: block;">
                    <br />
                    <b id="custom1319"> Nh·∫≠p host Server name Karaoke c·ªßa b·∫°n : </b> <a href="#xuly" onclick="helpKara()" style="color: crimson;">H∆∞·ªõng d·∫´n t·∫°o host Server ƒë·ªÉ play Karaoke c·ªßa b·∫°n</a>
                    <br />
                    <input readonly type="text" id="serverX" name="txtServer" size="80" placeholder="" value="@ViewBag.Server" />
                    <br />
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1320">
                <td id="custom1321"></td>
                <td id="phan5" style="display: block;">
                    <br />
                    <b id="custom1322"> Nh·∫≠p b√†i h√°t Karaoke t·ª´ host server c·ªßa b·∫°n (l∆∞u √Ω nh·∫≠p ch√≠nh x√°c) : </b>
                    <br />
                    <input id="baihatX" type="text" name="txtSong" size="80" placeholder="" value="@ViewBag.BaiHatSV" />
                    <br />
                </td>
            </tr>
            <textarea id="songlist" hidden>@ViewBag.ListSong</textarea>
            <tr style="height: 40px;" id="custom1323">
                <td id="custom1324"></td>
                <td id="phan6" style="display: block;">
                    <br />
                    <b style="color: aqua;" id="custom1325">
                    B·∫≠t m√≠ t·∫°i th∆∞ m·ª•c root tr√™n host server c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ t·∫°o file <span style="color: deeppinkgreen;" id="custom1326">MyListSong.txt</span>, trong ƒë√≥ li·ªát k√™ c√°c b√†i h√°t Karaoke (th∆∞ m·ª•c) ƒëang t·ªìn t·∫°i tr√™n host server c·ªßa b·∫°n,
                    m·ªói b√†i h√°t ph√¢n bi·ªát v√† c√°ch nhau b·ªüi k√≠ t·ª± Enter :
                    </b>
                    <a id="getlist" href="#xuly" onclick="showlist()" style="color: crimson;">Get all list song of your host server (click try again to finish)</a>
                    &nbsp;||&nbsp; @if (ViewBag.Share != null && ViewBag.Share != "" && ViewBag.Share != "ERROR") {
                    <a href="#xuly" style="color: red;" onclick="playAutoList()">Play Karaoke (t·ª± ƒë·ªông) theo th·ª© t·ª± c·ªßa list song</a>
                    <input hidden type="checkbox" id="autoSong" name="txtAutoSong" />
                    }
                    <br />
                    <br />
                    <b id="soluongSong" style="color: chartreuse;"></b>
                    <br />
                    <span style="color: orangered;" id="custom1327"><u id="custom1328">L∆∞u √Ω</u> : Danh s√°ch b√™n d∆∞·ªõi c√≥ th·ªÉ ch∆∞a ƒë∆∞·ª£c ho√†n t·∫•t do file <span style="color: deeppinkgreen;" id="custom1329">MyListSong.txt</span> tr√™n host server c·ªßa b·∫°n ch∆∞a ƒë∆∞·ª£c c·∫≠p nh·∫≠t !</span>
                    <br />
                    <br />
                    <select id="listsong" size="10" onclick="changesong()" onchange="changesong()">
                        <option id="custom1330"></option>
                    </select>
                    <br />
                </td>
            </tr>
            } @if (ViewBag.ListSong == null || ViewBag.ListSong.Length == 0) {
            <tr style="height: 40px;" id="custom1331">
                <td id="custom1332"></td>
                <td id="phan1">
                    <br />
                    <b id="custom1333"> T·∫£i file TXT karaoke (ƒë√£ x·ª≠ l√Ω) || ho·∫∑c nh·∫≠p url *.txt online (khuy·∫øn kh√≠ch) : </b>
                    <br />
                    @if(TempData["fileSuDung"] == "true")
                    {
                    <input type="file" name="txtKaraoke" />
                    }
                    else
                    {
                    <input disabled type="file" name="txtKaraoke" />
                    }
                    &nbsp;&nbsp;
                    @if (TempData["ajax_on_no_upload"] == null || TempData["ajax_on_no_upload"] == "")
                                {
                                    <input size="100" type="text" name="txtKaraoke1" />
                                }
                    <br />
                    <b id="custom1334">@Html.ActionLink("B·∫°n ch∆∞a c√≥ file text karaoke?","CreateFile_Karaoke")</b><br />
                    <b style="color: darkgreen;" id="custom1335">@Html.ActionLink("Ph√¢n ƒëo·∫°n h√°t cho c√°c member? (sau khi b·∫°n ƒë√£ t·∫°o file text Karaoke t·ª´ h·ªá th·ªëng)","PhanDoanMember_Karaoke")</b>
                    <br />
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1336">
                <td id="custom1337"></td>
                <td id="phan2">
                    <br />
                    <b id="custom1338"> T·∫£i file MP3 karaoke - nh·∫°c g·ªëc c√≥ gi·ªçng ca sƒ© (ƒë√£ x·ª≠ l√Ω) || ho·∫∑c nh·∫≠p url *.mp3 online (khuy·∫øn kh√≠ch) : </b>
                    <br />
                    @if(TempData["fileSuDung"] == "true")
                    {
                    <input type="file" name="txtMusix" />
                    }
                    else
                    {
                    <input disabled type="file" name="txtMusix" />
                    }
                    &nbsp;&nbsp;
                    @if (TempData["ajax_on_no_upload"] == null || TempData["ajax_on_no_upload"] == "")
                                {
                                    <input size="100" type="text" name="txtMusix1" />
                                }
                    <br />
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1339">
                <td id="custom1340"></td>
                <td id="phan3">
                    <br />
                    <b id="custom1341"> T·∫£i file MP3 karaoke - nh·∫°c beat t√°ch gi·ªçng ca sƒ© (karaoke - ƒë√£ x·ª≠ l√Ω) || ho·∫∑c nh·∫≠p url *.mp3 online (khuy·∫øn kh√≠ch) : </b>
                    <br />
                    @if(TempData["fileSuDung"] == "true")
                    {
                    <input type="file" name="txtMusic" />
                    }
                    else
                    {
                    <input disabled type="file" name="txtMusic" />
                    }
                    &nbsp;&nbsp;
                    @if (TempData["ajax_on_no_upload"] == null || TempData["ajax_on_no_upload"] == "")
                                {
                                    <input size="100" type="text" name="txtMusic1" />
                                }
                    <br />
                    <span style="color:red" id="custom1342">@TempData["ajax_on_no_upload"]</span>
                    <br />
                </td>
            </tr>
            }
            <tr style="height: 40px;" id="custom1343">
                <td id="custom1344"></td>
                <td id="custom1345">
                    <br />
                    <h5 style="color: brown;">
                        - S·ª≠ d·ª•ng c√°c app/web b√™n ngo√†i ƒë·ªÉ gi√∫p t√°ch nh·∫°c v√† gi·ªçng ca sƒ© (n·∫øu b·∫°n kh√¥ng c√≥ b·∫£n nh·∫°c Karaoke)
                        <br />
                        - S·ª≠ d·ª•ng c√°c app/web b√™n ngo√†i ƒë·ªÉ tƒÉng √¢m l∆∞·ª£ng cho √¢m thanh.
                        <br />
                        - Ngo√†i ra b·∫°n c√≥ th·ªÉ √°p d·ª•ng s·ª± hi·ªÉu bi·∫øt v·ªÅ photoshop/hi·ªáu ch·ªânh √¢m thanh kh√°c cho th√≠ch h·ª£p nh·∫•t!
                    </h5>
                </td>
            </tr>
            <tr style="height: 40px;" id="custom1346">
                <td id="custom1347"></td>
                <td id="custom1348">
                    <select id="chonKara" onchange="chonKaraHay()">
                        <option id="custom1349">S·ª≠ d·ª•ng ng·∫´u nhi√™n ·∫£nh/background c√≥ s·∫µn tr√™n h·ªá th·ªëng - ho·∫∑c v√≤ng l·∫∑p theo th·ª© t·ª±</option>
                        <option id="custom1350">S·ª≠ d·ª•ng link ·∫£nh/background online c·ªßa b·∫°n</option>
                        <option id="custom1351">S·ª≠ d·ª•ng link video/background online c·ªßa b·∫°n</option>
                        <option id="custom1352">Nh·∫≠p link video Youtube online</option>
                        <option id="custom1353">L·∫•y ng·∫´u nhi√™n link video Youtube hi·ªán c√≥ (m·ªôt s·ªë link c√≥ th·ªÉ kh√¥ng c√≤n t·ªìn t·∫°i)</option>
                    </select>
                    <input type="number" hidden id="chonKarax" name="KaraChon" value="1" min="1" max="5" style="width: 5em;" />
                    <br />
                    <br />
                    <input name="txtOnline" id="online" size="100" style="display: none;" type="text" placeholder="Nh·∫≠p link online background c·ªßa b·∫°n th·ª±c hi·ªán karaoke..." />
                    <br />
                    <span id="helpYoutube" style="color: red; display: none;">
                    <u id="custom1354">L∆∞u √Ω</u> : m·ªôt s·ªë link Youtube c√≥ th·ªÉ kh√¥ng kh·∫£ d·ª•ng ho·∫∑c b·∫°n n√™n c·ªë g·∫Øng th·ª≠ l·∫°i (v√† h√£y t√¨m video youtube d√†i ph√∫t nh·∫•t c√≥ th·ªÉ üòÉ, tuy nhi√™n m·ªôt s·ªë tr∆∞·ªùng h·ª£p video c√≥ th·ªÉ t·ª± l·∫∑p l·∫°i)
                    </span>
                    @*<br />
                    <span id="Youtubehelp" style="color: blueviolet; display: none;">
                    V·ªõi l·ª±a ch·ªçn n√†y, ƒë·ªÉ ƒë·∫£m b·∫£o s·ª± tuy·ªát ƒë·ªëi th√¨ ban ƒë·∫ßu nh·∫°c s·∫Ω kh√¥ng ƒë∆∞·ª£c ph√°t t·ª± ƒë·ªông nh∆∞ b√¨nh th∆∞·ªùng.<br />
                    B·∫°n vui l√≤ng t·ª± canh ƒë·ª£i sau khi video Youtube tr√™n background c·ªßa b·∫°n ƒë√£ b·∫Øt ƒë·∫ßu v·ª´a ph√°t, h√£y nh·∫•n ph√≠m link <span style="color: orangered;" id="custom1355">Play & Start</span> ƒë·ªÉ m·ªõi b·∫Øt ƒë·∫ßu h√†nh tr√¨nh nh√© üòÅ
                    </span>
                    *@ <br />
                    <br />
                    @if(TempData["yes-file-mo"] == "true")
                    {
                    <input type="checkbox" name="auto_play" /><span id="custom1356">&nbsp;</span><b id="custom1357">Kh√¥ng t·ª± ƒë·ªông ph√°t nh·∫°c khi b·∫Øt ƒë·∫ßu</b> <br />
                    }
                    else
                    {
                        <input type="checkbox" name="auto_play" /><del id="custom1358"><span id="custom1359">&nbsp;</span><b id="custom1360">Kh√¥ng t·ª± ƒë·ªông ph√°t nh·∫°c khi b·∫Øt ƒë·∫ßu</b></del><br />
                    }
                    <br />
                    <input type="checkbox" name="auto_music" />&nbsp;<b id="custom1361">T·ª± ƒë·ªông l·∫∑p l·∫°i music (kh√¥ng ƒë·∫£m b·∫£o)</b> <br />
                    <br />
                     @if(TempData["yes-file-mo"] == "true")
                     {
                                <input type="checkbox" name="txtBehind" id="behind" /><span id="custom1362">&nbsp;</span><b id="custom1363">S·∫Ω b·∫Øt ƒë·∫ßu ph√°t nh·∫°c sau <input type="number" name="txtBehindNumber" value="10" min="10" max="100" style="width: 5em;" /> gi√¢y</b> <br />
                            }
                            else
                            {
                                <input type="checkbox" name="txtBehind" id="behind" /><span id="custom1364">&nbsp;</span><del id="custom1365"><b id="custom1366">S·∫Ω b·∫Øt ƒë·∫ßu ph√°t nh·∫°c sau <input type="number" name="txtBehindNumber" value="10" min="10" max="100" style="width: 5em;" /> gi√¢y</b></del><br />
                            }
                            <br />
                    <input type="checkbox" name="txtInHoa" />&nbsp;<b id="custom1367">Vi·∫øt in hoa t·∫•t c·∫£ ƒëo·∫°n Text Karaoke</b> <br />
                    <br />
                    <input type="checkbox" id="cangiua" name="txtCanGiua" onchange="kiemtracangiua()" />&nbsp;<b id="custom1368">CƒÉn gi·ªØa t·∫•t c·∫£ ƒëo·∫°n Text Karaoke</b> <br />
                    <br />
                    <input type="checkbox" id="codinh1" name="txtCoDinh" checked />&nbsp;<b id="codinh2">C·ªë ƒë·ªãnh ƒëo·∫°n text Karaoke ·ªü ph√≠a d∆∞·ªõi (nh∆∞ c√°c b·∫£n karaoke th√¥ng th∆∞·ªùng)</b><br />
                        <br />
                        <input type="checkbox" name="random_font" />&nbsp;<b id="custom1369">T·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi l·∫ßn l∆∞·ª£t font ch·ªØ c·ªßa text karaoke</b> <br />
                        <br />
                        <input type="checkbox" name="random_color" />&nbsp;<b id="custom1370">T·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi random m√†u s·∫Øc (ban ƒë·∫ßu/ƒëi·ªÉm t√¥) c·ªßa text karaoke</b> <br />
                        <br />
                        <input type="checkbox" name="not_singer" />&nbsp;<b id="custom1371">Kh√¥ng c·∫ßn x·ª≠ l√Ω/ki·ªÉm tra qu√° tr√¨nh ch·∫°y c·ªßa mp3 g·ªëc (c√≥ gi·ªçng ca sƒ©)<br /> <span style="color:red" id="custom1372">(ho·∫∑c c√≥ th·ªÉ ƒë·∫∑t fragment # t·∫°i thanh url tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n trong khi play : locked/unlocked)</span></b> <br />
                </td>
            </tr>
                    <tr style="height: 40px;" id="custom1373">
                        <td id="custom1374"></td>
                        <td id="custom1375">
                            <br />
                            <input onclick="xong()" style="font-weight: bolder;" type="Submit" id="okxem" value="B·∫Øt ƒê·∫ßu" />
                            <br />
                            <img id="loading" src="/Image_Play/waiting.gif" style="display: none;" />
                        </td>
                    </tr>
                    <tr style="height: 40px;" id="custom1376">
                        <td id="custom1377"></td>
                        <td id="custom1378">
                            <br />
                            <br />
                                @if (TempData["exists_karaoke_offline"] == "true")
                                {
                            <b style="color: red; background-color: aqua;" id="custom1379">
                                - Hi·ªán t·∫°i n·∫øu b·∫°n play Karaoke online tr·ª±c ti·∫øp tr√™n website c·ªßa h·ªá th·ªëng (t·∫£i l√™n c√°c file ho·∫∑c s·ª≠ d·ª•ng hosting server c·ªßa ri√™ng b·∫°n); khi g·∫∑p c√°c s·ª± c·ªë nh∆∞ m·∫°ng y·∫øu hay ƒë∆∞·ªùng truy·ªÅn Internet y·∫øu, t·ªëc ƒë·ªô bƒÉng th√¥ng
                                th·∫•p,... th√¨ s·∫Ω g√¢y kh√≥ khƒÉn v√† gi√°n ƒëo·∫°n trong qu√° tr√¨nh tr·∫£i nghi·ªám.
                                <br />
                                  -Ch√∫ng t√¥i ƒëang tri·ªÉn khai HTML d·ªãch v·ª• karaoke c·ªßa MyWebPlay ngay tr√™n local(offline) d√†nh cho b·∫°n. <a style="color:blue" href="@TempData["link_offline_kara"]" download> Click v√†o ƒë√¢y</a> ƒë·ªÉ t·∫£i xu·ªëng phi√™n b·∫£n tr·∫£i nghi·ªám.</b>
                                }
                        </td>
            </tr>
            }
        </table>
        } else {
         <div id="ajax_mama">
        <div class="video-overlay" id="play">
            <table align="center" onended="loadsolar()" touchstart="xemdoubleclick()" id="custom1380">
                <b id="error" style="color: red; display: none;background-color:yellow"></b>
                <b id="message" style="color: deeppink; display: none;background-color:aqua"><a href="#xuly" onclick="xoaerror()">Click ƒë·ªÉ t·∫Øt th√¥ng b√°o</a></b>
                <img style="width: 50px; height: 50px; display: none;" id="loadingX" src="/Image_Play/waiting.gif" />
                <br />
                <br />
                <div id="hienlinh" style="display: none;">
                    <br />
                    <br />
                    <br />
                </div>
                &nbsp;&nbsp;&nbsp;
                <br />
                <br />
                <div id="menu" style="display: block;position: relative;">
                    @if (ViewBag.Music != ViewBag.Musix && TempData["hassinger"] != "true") {
                    <select id="chon" onchange="changeKara()" title="C√≥ th·ªÉ nh·∫•n ph√≠m k/K ƒë·ªÉ chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô">
                        <option id="custom1381">Ch·∫ø ƒë·ªô Karaoke</option>
                        <option id="custom1382">Ch·∫ø ƒë·ªô Ca sƒ© h√°t</option>
                    </select>
                    } else {
                    <select id="chon" style="display: none;" onchange="changeKara()">
                        <option id="custom1383">Ch·∫ø ƒë·ªô Karaoke</option>
                        <option id="custom1384">Ch·∫ø ƒë·ªô Ca sƒ© h√°t</option>
                    </select>
                    }  &nbsp
                    <button style="color: brown;" onclick="loadsolar()" id="xanh" title="Nh·∫•n [Space] ƒë·ªÉ m·ªü/t·∫Øt to√†n m√†n h√¨nh"><b id="custom1540">FULL M√ÄN H√åNH - OFF</b></button>
                    <button style="background-color:grey;border:none;position: absolute;bottom:0;right:0;" onclick="dongmenu()" id="xanhla" title="ƒê√≥ng th·∫ª ph·∫ßn menu l·∫°i (nh·∫•n m/M)"><b id="custom1386">‚ùå</b></button>
                    @if((TempData["TK-KARA"] == "" || TempData["TK-KARA"] == null) && (TempData["random_color"] == "false")) {
                    <span id="s_mau"><b id="xemthumau" style="color: #2900f5;">Ch·ªçn m√†u t√¥ ƒëi·ªÉm text</b><span id="custom1387"> : </span><input type="color" onchange="doimau()" id="mau" value="#2900f5" /></span>
                    } else {
                    <span style="display: none;" id="custom1388"> <b id="xemthumau" style="color: #2900f5;">Ch·ªçn m√†u t√¥ ƒëi·ªÉm text</b><span id="custom1389"> : </span><input type="color" onchange="doimau()" id="mau" value="#2900f5" /></span>
                    }

                     @if(TempData["random_color"] == "false")
                    {
                    <b id="xemmauthu" style="color: #efe6e6;">Ch·ªçn m√†u ƒëo·∫°n text ban ƒë·∫ßu</b><span id="custom1390"> : </span><input type="color" onchange="doimauX()" id="mauX" value="#efe6e6" /> 
                    }
                    else
                    {
                        <span style="display:none" id="custom1391"><b id="xemmauthu" style="color: #efe6e6;display:none">Ch·ªçn m√†u ƒëo·∫°n text ban ƒë·∫ßu</b><span id="custom1392"> : </span><input type="color" onchange="doimauX()" id="mauX" value="#efe6e6" /></span>
                    }
                    <b id="xemmaudi" style="color: #e3f207;">Ch·ªçn m√†u cho time ƒë·∫øm ng∆∞·ª£c b·∫Øt ƒë·∫ßu karaoke</b> : <input type="color" onchange="doimauY()" id="mauY" value="#e3f207" />
                    @if(TempData["random_font"] == "false")
                    {
                                <select id="fontKieu" onchange="doiFontKieu()" title="Ch·ªçn ki·ªÉu ch·ªØ cho text hi·ªÉn th·ªã karaoke"> </select>
                            }
                            else
                            {
                                <select id="fontKieu" onchange="doiFontKieu()" title="Ch·ªçn ki·ªÉu ch·ªØ cho text hi·ªÉn th·ªã karaoke" style="display: none;"> </select>
                            }
                    <span style="color: deeppink;" id="custom1393"><b id="custom1394">K√≠ch th∆∞·ªõc ch·ªØ : </b></span><input id="kichthuoc" type="number" style="width: 5em;" min="0" value="80" onchange="doikichthuoc()" />
                    @if((TempData["TK-KARA"] == "" || TempData["TK-KARA"] == null) && TempData["codinh"] == "false") {
                    <span style="color: deeppink;" id="custom1395"><b id="custom1396">V·ªã tr√≠ xu·∫•t hi·ªán : </b></span> <input id="hang" type="number" style="width: 5em;" min="0" value="0" onchange="doihang()" />
                    } else {
                    <span style="display: none; color: deeppink;" id="custom1397"><b id="custom1398">V·ªã tr√≠ xu·∫•t hi·ªán : </b></span> <input style="display: none; width: 5em;" id="hang" type="number" min="0" value="0" onchange="doihang()" /> } 
                    <span id="demnguockieu" style="display:none"></span>
                    <input id="kieudemnguoc" maxlength="2" title="Nh·∫≠p icon ƒë·∫øm ng∆∞·ª£c ƒë·ªÉ b·∫Øt ƒë·∫ßu karaoke (n·∫øu b·∫°n nh·∫≠p N th√¨ m·∫∑c ƒë·ªãnh s·∫Ω ƒë·∫øm ng∆∞·ª£c c∆° b·∫£n theo : 3 - 2 - 1)" onchange="doikieudemnguoc()" value="N" size="3" />
                    <input id="temp_text" style="display:none" />
                    @if (ViewBag.SuDung == "Video") {
                    <input type="checkbox" onchange="videovua()" id="vuavideo" />
                    <b style="color: red;" id="custom1399">Tu·ª≥ ch·ªânh video (option)</b>
                    }
                    <input type="text" onchange="moanh()" title="Nh·∫≠p ƒë·ªô m·ªù background (gi√° tr·ªã h·ª£p l·ªá t·ª´ 0 - 1, c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng th·∫≠p ph√¢n)" id="anhmo" size="3" value="0.8" />
                    <input type="color" id="maunex" onchange="moanh()" title="Ch·ªçn m√†u s·∫Øc ph√¥ng n·ªÅn cho background (c√≥ th·ªÉ k√®m theo ƒë·ªô m·ªù)" />
                    @if (TempData["index-auto"] == null || TempData["index-auto"] == "") {
                    <button onclick="StopKaraoke()" id="custom1400"><b style="color: darkgreen;" id="custom1401">THO√ÅT</b></button>
                    } else { var i1 = TempData["index-auto"].ToString().Split("***")[0] + ""; var i2 = TempData["length-list-auto"] + ""; TempData["index-auto"] = i1; TempData["length-list-auto"] = i2; if (i1 != i2) {
                    @if (TempData["ajax_js"] == "false")
                    {
                    <button onclick="StopKaraoke()" id="custom1402"><b style="color: darkgreen;" id="custom1403">ƒêi ƒë·∫øn b√†i h√°t ti·∫øp theo</b></button>
                    }
                    else
                    {
                    <button style="display:none" onclick="StopKaraoke()" id="custom1404"><b style="color: darkgreen;" id="custom1405">ƒêi ƒë·∫øn b√†i h√°t ti·∫øp theo</b></button>
                    <select onchange="chonsongtulist()" onclick="loadlistSong()" id="listSongKara"></select>
                    }
                    } else {
                    <button style="display: none;" onclick="StopKaraoke()" id="custom1406"><b style="color: darkgreen; display: none;" id="custom1407">ƒêi ƒë·∫øn b√†i h√°t ti·∫øp theo</b></button>
                    }
                    @if (TempData["ajax_js"] == "false")
                    {
                    <button onclick="DungKaraoke()" id="custom1408"><b style="color: red;" id="thutuXYZ">Hu·ª∑ tr√¨nh ph√°t Karaoke t·ª± ƒë·ªông (ƒë√£ ph√°t : @i1/@i2)</b></button>
                    }
                    else
                    {
                    <button onclick="DungKaraoke()" id="custom1409"><b style="color: red;" id="thutuXYZ">Hu·ª∑ tr√¨nh ph√°t Karaoke t·ª± ƒë·ªông</b></button>
                    }
                    <input style="display:none" id="thutu" type="number" min="1" max="@i2" value="@i1" />
                    }
                    <span style="color: springgreen;" id="custom1410">
                    <b id="custom1411"><u title="B√†i h√°t ƒëang ƒë∆∞·ª£c ph√°t" id="baihatXYZ">@ViewBag.BHServer</u></b>
                    </span>
                    @if (ViewBag.Share != "YES - OK" && ViewBag.BHServer != "" && ViewBag.LoginServer != "") {
                    <span id="custom1412"></span><b style="color: red;" id="custom1413"><a onclick="copyshare()" href="#xuly">Share Karaoke</a></b><input type="checkbox" id="saveshare" />
                    <b style="color: lawngreen;" id="custom1414">Bao g·ªìm lu√¥n c√°c setting hi·ªán t·∫°i c·ªßa b·∫°n</b>
                    }
                    <button onclick="ghinho()" id="custom1415"><b style="color: lightcoral;" id="custom1416">Ghi nh·ªõ c√°c c√†i ƒë·∫∑t</b></button> 
                    <button onclick="xoaghinho()" id="custom1417"><b style="color: lightcoral;" id="custom1418">Xo√° ghi nh·ªõ c√°c c√†i ƒë·∫∑t</b></button>
                    @if (TempData["codinh"] == "false") {
                    <spam id="custom1419"> </spam>
                    <b id="demo_nen" style="color: #ffffff;">S·ª≠ d·ª•ng m√†u n·ªÅn cho ph·∫ßn text : </b><input type="color" onchange="doimaunenX()" id="maunenX" value="#FFFFFF" />
                    <span id="custom1420"></span>
                    <a href="#xuly" onclick="xoamaunen()"><b id="custom1421">L√†m m·ªù n·ªÅn/Xo√° m√†u n·ªÅn</b></a>
                    <span id="custom1422"></span>
                    } @if (TempData["auto-play"] == "false") {
                    <b id="xplay1" style="color: aqua;"><a onclick="xemplayX()" href="#xuly">Play</a></b>
                    }  @if (TempData["auto-play"] == "false") {
                    <b id="xplay2" style="color: aqua;"><a onclick="xemplay()" href="#xuly">Play & full screen</a></b>
                    }  @if (ViewBag.SuDung == "Youtube") {
                    <b style="color: aqua;" id="custom1423"><a id="re-You" onclick="restart_Youtube()" href="#xuly">Restart video Youtube</a></b>
                    }  @if (ViewBag.SuDung == "Youtube") {
                    <b style="color: aqua;" id="custom1424"><a onclick="replay_Youtube()" href="#xuly">Restart video Youtube and karaoke</a></b>
                    }
                    <button style="color: purple;" onclick="resetKaraoke()" title="Nh·∫•n o/O ƒë·ªÉ kh·ªüi ƒë·ªông l·∫°i" id="custom1425"><b id="custom1426">KH·ªûI ƒê·ªòNG L·∫†I/PH√ÅT</b></button>  
                </div>
                <div id="hienthi">
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                </div>
                <input type="text" id="txtKara1" hidden />
                <input type="text" id="txtKara2" hidden />
                @if (TempData["cangiua"] == "true") {
                <tr style="height: 40px;" id="custom1427">
                    <td id="custom1428"></td>
                    <td id="custom1429">
                        <span id="number" style="color: #e3f207; font-size: 100px; width: 5em;"></span>
                        <br />
                        <div style="text-align: center;" id="custom1430">
                            <div id="background-X" style="display: block;">
                                <p id="thietkeKara"></p>
                                <p id="txtKaraoke1" onclick="dongmomenu()">
                                    <b id="custom1431"><span id="xanhX1" class="word"></span></b>
                                </p>
                                <p id="txtKaraoke2" onclick="dongmomenu()">
                                    <b id="custom1432"><span id="xanhX2" class="work"></span></b>
                                </p>
                                <span id="xui"></span>
                            </div>
                        </div>
                    </td>
                </tr>
                } else { if (TempData["codinh"] == "false") {
                <span id="number" style="color: #e3f207; font-size: 100px; float: left; width: 5em;"></span>
                <br />
                <div style="text-align: center;" id="custom1433">
                    <div id="background-X" style="display: block;">
                        <p id="thietkeKara"></p>
                        <p id="txtKaraoke1" onclick="dongmomenu()" style="text-align: left;">
                            <b id="custom1434"><span id="xanhX1" class="word"></span></b>
                        </p>
                        <p id="txtKaraoke2" onclick="dongmomenu()" style="text-align: right;">
                            <b id="custom1435"><span id="xanhX2" class="work"></span></b>
                        </p>
                        <span id="xui"></span>
                    </div>
                </div>
                } else{
                <span id="number" style="color: #e3f207; font-size: 100px; bottom: 500px; position: fixed; left: 0px; width: 5em;"></span>
                <br />
                <div style="text-align: center;" id="custom1436">
                    <div id="background-X" style="display: block;">
                        <p id="thietkeKara"></p>
                        <p id="txtKaraoke1" onclick="dongmomenu()" style="bottom: 200px; position: fixed; left: 0px;">
                            <b id="custom1437"><span id="xanhX1" class="word"></span></b>
                        </p>
                        <p id="txtKaraoke2" onclick="dongmomenu()" style="bottom: 0px; position: fixed; right: 0px;">
                            <b id="custom1438"><span id="xanhX2" class="work"></span></b>
                        </p>
                        <span id="xui"></span>
                    </div>
                </div>
                } }
            </table>
        </div>
        <div id="phanphoi">
            @if(ViewBag.SuDung == "") {
            <img src="@ViewBag.Background" id="myVideo" class="sqs-html5-video" style="opacity: 0.8;" />
            } else if (ViewBag.SuDung == "Video") {
            <video muted loop autoplay id="myVidex" class="sqs-html5-video">
                <source src="@ViewBag.Background" />
            </video>
            } else {
            <iframe id="myVideo" style="pointer-events: none;" src="@ViewBag.Background"> </iframe>
            }
        </div>
        </div>
        <div id="ajax_papa" style="display:none;background-color:grey;text-align:center">
            <br />
            <br />
           <b style="color:yellow" id="custom1439">T·∫¢I L√äN FILE TXT KARAOKE : </b><span id="custom1440">&nbsp;&nbsp;&nbsp;&nbsp;</span><input type="file" id="fileTXT" />
            <br /> <b style="color:blue" id="custom1441">T·∫¢I L√äN FILE MP3 G·ªêC (C√ì GI·ªåNG CA Sƒ®) : </b><span id="custom1442">&nbsp;&nbsp;&nbsp;&nbsp;</span><input type="file" id="fileGOC" />
           <br />
            <b style="color:purple" id="custom1443">T·∫¢I L√äN FILE MP3 KARAOKE (ƒê√É PH√ÇN T√ÅCH) : </b><span id="custom1444">&nbsp;&nbsp;&nbsp;&nbsp;</span><input type="file" id="fileKARAOKE" />
           <br />
           <br />
           <button style="color:deeppink;background-color:greenyellow" onclick="okphatnhac()" id="custom1445"><b id="custom1446">PH√ÅT NH·∫†C</b></button><span id="custom1447">&nbsp;&nbsp;&nbsp;&nbsp;</span><button onclick="StopKaraoke()" id="custom1448"><b style="color: darkgreen;" id="custom1449">THO√ÅT</b></button>
           <br />
           <br />
        </div>
        }
        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> @Html.Raw(TempData["HTML-added"])
        } else if (ViewBag.Share == "YES") {
        <br />
        <h3 style="color: deeppink;" id="custom1450">‚úîÔ∏è D·ªØ li·ªáu Karaoke ƒëang ƒë∆∞·ª£c t·∫£i, vui l√≤ng ch·ªù trong √≠t ph√∫t!</h3>
        <br />
        <img src="/Image_Play/waiting.gif" />
        <div style="display: none;" id="custom1451">
            <audio id="music" autoplay hidden onplay="PlayKaraoke()" onplaying="PlayY()" onpause="PlayXKaraoke()" onended="StopKaraoke()">
                <source src="@ViewBag.Music" type="audio/mpeg" />
            </audio>
            <audio id="musix" autoplay hidden muted onplay="ToPlayKaraoke()" onplaying="PlayZ()" onpause="PlayXKaraokeX()" onended="StopKaraoke()">
                <source src="@ViewBag.Musix" type="audio/mpeg" />
            </audio>
            <textarea id="txtKara" hidden>@ViewBag.Karaoke</textarea>
            @if (ViewBag.Music == "") { @if (ViewBag.Karaoke == "karaoke") {
            <h3 style="color: aqua;" id="custom1452">
                B·∫°n n√™n tr·∫£i nghi·ªám t√≠nh nƒÉng n√†y tr√™n m√°y t√≠nh (PC), laptop,... nh√© üòÑ<br />
                L∆∞u √Ω : trong khi ƒëang tr·∫£i nghi·ªám Karaoke, b·∫°n kh√¥ng n√™n refresh l·∫°i trang ƒë·ªÉ tr√°nh m·∫•t d·ªØ li·ªáu!
            </h3>
            <br />
            }
            <h2 id="custom1453">@Html.ActionLink("B·∫°n c√≥ mu·ªën tr·∫£i nghi·ªám phi√™n b·∫£n Karaoke c∆° b·∫£n?", "PlayKaraoke")</h2>
            <br />
            <br />
            <table align="center" id="custom1454">
                <h2 style="text-align: center;" id="custom1455">Play Your Karaoke - Online (<span style="color: orange;" id="custom1456">phi√™n b·∫£n th∆∞·ªùng</span>)</h2>
                <br />
                @using (Html.BeginForm("ToPlayKaraoke", "Home", FormMethod.Post, new { @enctype = "multipart/form-data" })) {
                <input type="text" id="linkKara" name="LinkKaraoke" style="display: none;" value="@ViewBag.LinkKaraoke" />
                @Html.ValidationSummary(true) @if (ViewBag.ListSong == null || ViewBag.ListSong.Length == 0) {
                <tr style="height: 40px;" id="custom1457">
                    <td id="custom1458"></td>
                    <td id="custom1459">
                        <br />
                        <b id="check" style="color: orangered;"><input id="checkdemo" onchange="democheck()" type="checkbox" name="txtChon" /> Tham kh·∫£o b·∫£n karaoke demo c√≥ s·∫µn tr√™n h·ªá th·ªëng</b>
                        <br />
                    </td>
                </tr>
                }
                <input type="text" name="txtShare" hidden value="@ViewBag.Share" />
                @if (ViewBag.ListSong == null || ViewBag.ListSong.Length == 0) {
                <tr style="height: 40px;" id="custom1460">
                    <td id="custom1461"></td>
                    <td id="custom1462">
                        <br />
                        <b id="servercheck" style="color: hotpink;">
                        <input id="onlineServer" onchange="onlinecheck()" type="checkbox" name="txtOnlineServer" />
                        S·ª≠ d·ª•ng host server Karaoke online c·ªßa b·∫°n (m·ªát m·ªèi v√¨ m·ªói l·∫ßn ph·∫£i upload c√°c file t·ª´ local üòÄ)
                        </b>
                        <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1463">
                    <td id="custom1464"></td>
                    <td id="phan4" style="display: none;">
                        <br />
                        <b id="custom1465"> Nh·∫≠p host Server name Karaoke c·ªßa b·∫°n : </b> <a href="#xuly" onclick="helpKara()" style="color: crimson;">H∆∞·ªõng d·∫´n t·∫°o host Server ƒë·ªÉ play Karaoke c·ªßa b·∫°n</a>
                        <br />
                        <input type="text" id="serverX" name="txtServer" size="80" placeholder="" value="@ViewBag.Server" />
                        <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1466">
                    <td id="custom1467"></td>
                    <td id="phan5" style="display: none;">
                        <br />
                        <b id="custom1468"> Nh·∫≠p b√†i h√°t Karaoke t·ª´ host server c·ªßa b·∫°n (l∆∞u √Ω nh·∫≠p ch√≠nh x√°c) : </b>
                        <br />
                        <input id="baihatX" type="text" name="txtSong" size="80" placeholder="" value="@ViewBag.BaiHatSV" />
                        <br />
                    </td>
                </tr>
                <textarea id="songlist" hidden>@ViewBag.ListSong</textarea>
                <tr style="height: 40px;" id="custom1469">
                    <td id="custom1470"></td>
                    <td id="phan6" style="display: none;">
                        <br />
                        <b style="color: aqua;" id="custom1471">
                        B·∫≠t m√≠ t·∫°i th∆∞ m·ª•c root tr√™n host server c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ t·∫°o file <span style="color: deeppinkgreen;" id="custom1472">MyListSong.txt</span>, trong ƒë√≥ li·ªát k√™ c√°c b√†i h√°t Karaoke (th∆∞ m·ª•c) ƒëang t·ªìn t·∫°i tr√™n host server c·ªßa
                        b·∫°n, m·ªói b√†i h√°t ph√¢n bi·ªát v√† c√°ch nhau b·ªüi k√≠ t·ª± Enter :
                        </b>
                        <a href="#xuly" onclick="showlist()" style="color: crimson;" id="getlist">Get all list song of your host server</a>
                        <br />
                        <br />
                    </td>
                </tr>
                } else {
                <tr style="height: 40px;" id="custom1473">
                    <td id="custom1474"></td>
                    <td id="custom1475">
                        <br />
                        <b id="servercheck" style="color: hotpink;" hidden>
                        <input id="onlineServer" checked onchange="onlinecheck()" type="checkbox" name="txtOnlineServer" />
                        S·ª≠ d·ª•ng host server Karaoke online c·ªßa b·∫°n (m·ªát m·ªèi v√¨ m·ªói l·∫ßn ph·∫£i upload c√°c file t·ª´ local üòÄ)
                        </b>
                        <a href="#xuly" onclick="thoatServer()" style="color: hotpink;">THO√ÅT CH·ª®C NƒÇNG KARAOKE - YOUR HOST SERVER</a>
                        <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1476">
                    <td id="custom1477"></td>
                    <td id="phan4" style="display: block;">
                        <br />
                        <b id="custom1478"> Nh·∫≠p host Server name Karaoke c·ªßa b·∫°n : </b> <a href="#xuly" onclick="helpKara()" style="color: crimson;">H∆∞·ªõng d·∫´n t·∫°o host Server ƒë·ªÉ play Karaoke c·ªßa b·∫°n</a>
                        <br />
                        <input readonly type="text" id="serverX" name="txtServer" size="80" placeholder="" value="@ViewBag.Server" />
                        <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1479">
                    <td id="custom1480"></td>
                    <td id="phan5" style="display: block;">
                        <br />
                        <b id="custom1481"> Nh·∫≠p b√†i h√°t Karaoke t·ª´ host server c·ªßa b·∫°n (l∆∞u √Ω nh·∫≠p ch√≠nh x√°c) : </b>
                        <br />
                        <input id="baihatX" type="text" name="txtSong" size="80" placeholder="" value="@ViewBag.BaiHatSV" />
                        <br />
                    </td>
                </tr>
                <textarea id="songlist" hidden>@ViewBag.ListSong</textarea>
                <tr style="height: 40px;" id="custom1482">
                    <td id="custom1483"></td>
                    <td id="phan6" style="display: block;">
                        <br />
                        <b style="color: aqua;" id="custom1484">
                        B·∫≠t m√≠ t·∫°i th∆∞ m·ª•c root tr√™n host server c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ t·∫°o file <span style="color: deeppinkgreen;" id="custom1485">MyListSong.txt</span>, trong ƒë√≥ li·ªát k√™ c√°c b√†i h√°t Karaoke (th∆∞ m·ª•c) ƒëang t·ªìn t·∫°i tr√™n host server c·ªßa
                        b·∫°n, m·ªói b√†i h√°t ph√¢n bi·ªát v√† c√°ch nhau b·ªüi k√≠ t·ª± Enter :
                        </b>
                        <a id="getlist" href="#xuly" onclick="showlist()" style="color: crimson;">Get all list song of your host server (click try again to finish)</a>
                        <br />
                        <br />
                        <b id="soluongSong" style="color: chartreuse;"></b>
                        <br />
                        <span style="color: orangered;" id="custom1486"><u id="custom1487">L∆∞u √Ω</u> : Danh s√°ch b√™n d∆∞·ªõi c√≥ th·ªÉ ch∆∞a ƒë∆∞·ª£c ho√†n t·∫•t do file <span style="color: deeppinkgreen;" id="custom1488">MyListSong.txt</span> tr√™n host server c·ªßa b·∫°n ch∆∞a ƒë∆∞·ª£c c·∫≠p nh·∫≠t !</span>
                        <br />
                        <br />
                        <select id="listsong" size="10" onclick="changesong()" onchange="changesong()">
                            <option id="custom1489"></option>
                        </select>
                        <br />
                    </td>
                </tr>
                } @if (ViewBag.ListSong == null || ViewBag.ListSong.Length == 0) {
                <tr style="height: 40px;" id="custom1490">
                    <td id="custom1491"></td>
                    <td id="phan1">
                        <br />
                        <b id="custom1492"> T·∫£i file TXT karaoke (ƒë√£ x·ª≠ l√Ω) || ho·∫∑c nh·∫≠p url *.txt online (khuy·∫øn kh√≠ch) : </b>
                        <br />
                        @if(TempData["fileSuDung"] == "true")
                        {
                        <input type="file" name="txtKaraoke" />
                        }
                        else
                        {
                        <input disabled type="file" name="txtKaraoke" />
                        }
                        &nbsp;&nbsp;
                        @if (TempData["ajax_on_no_upload"] == null || TempData["ajax_on_no_upload"] == "")
                        {
                        <input size="100" type="text" name="txtKaraoke1" />
                        }
                        <br />
                        <b id="custom1493">@Html.ActionLink("B·∫°n ch∆∞a c√≥ file text karaoke?","CreateFile_Karaoke")</b><br />
                        <b style="color: darkgreen;" id="custom1494">@Html.ActionLink("Ph√¢n ƒëo·∫°n h√°t cho c√°c member? (sau khi b·∫°n ƒë√£ t·∫°o file text Karaoke t·ª´ h·ªá th·ªëng)","PhanDoanMember_Karaoke")</b>
                        <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1495">
                    <td id="custom1496"></td>
                    <td id="phan2">
                        <br />
                        <b id="custom1497"> T·∫£i file MP3 karaoke - nh·∫°c g·ªëc c√≥ gi·ªçng ca sƒ© (ƒë√£ x·ª≠ l√Ω) || ho·∫∑c nh·∫≠p url *.mp3 online (khuy·∫øn kh√≠ch) : </b>
                        <br />
                        @if(TempData["fileSuDung"] == "true")
                        {
                        <input type="file" name="txtMusix" />
                        }
                        else
                        {
                        <input type="file" name="txtMusix" disabled />
                        }
                        &nbsp;&nbsp;
                        @if (TempData["ajax_on_no_upload"] == null || TempData["ajax_on_no_upload"] == "")
                                    {
                                        <input size="100" type="text" name="txtMusix1" />
                                    }
                        <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1498">
                    <td id="custom1499"></td>
                    <td id="phan3">
                        <br />
                        <b id="custom1500"> T·∫£i file MP3 karaoke - nh·∫°c beat t√°ch gi·ªçng ca sƒ© (karaoke - ƒë√£ x·ª≠ l√Ω) || ho·∫∑c nh·∫≠p url *.mp3 online (khuy·∫øn kh√≠ch) : </b>
                        <br />
                        @if(TempData["fileSuDung"] == "true")
                        {
                        <input type="file" name="txtMusic" />
                        }
                        else
                        {
                        <input disabled type="file" name="txtMusic" />
                        }
                        &nbsp;&nbsp;
                        @if (TempData["ajax_on_no_upload"] == null || TempData["ajax_on_no_upload"] == "")
                                    {
                                        <input size="100" type="text" name="txtMusic1" />
                                    }
                        <br />
                    </td>
                </tr>
                }
                <tr style="height: 40px;" id="custom1501">
                    <td id="custom1502"></td>
                    <td id="custom1503">
                        <br />
                        <h5 style="color: chartreuse;" id="custom1504">
                            - S·ª≠ d·ª•ng c√°c app/web b√™n ngo√†i ƒë·ªÉ gi√∫p t√°ch nh·∫°c v√† gi·ªçng ca sƒ© (n·∫øu b·∫°n kh√¥ng c√≥ b·∫£n nh·∫°c Karaoke)
                            <br />
                            - S·ª≠ d·ª•ng c√°c app/web b√™n ngo√†i ƒë·ªÉ tƒÉng √¢m l∆∞·ª£ng cho √¢m thanh.
                            <br />
                            - Ngo√†i ra b·∫°n c√≥ th·ªÉ √°p d·ª•ng s·ª± hi·ªÉu bi·∫øt v·ªÅ photoshop/hi·ªáu ch·ªânh √¢m thanh kh√°c cho th√≠ch h·ª£p nh·∫•t!
                        </h5>
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1505">
                    <td id="custom1506"></td>
                    <td id="custom1507">
                        <select id="chonKara" onchange="chonKaraHay()">
                            <option id="custom1508">S·ª≠ d·ª•ng ng·∫´u nhi√™n ·∫£nh/background c√≥ s·∫µn tr√™n h·ªá th·ªëng - ho·∫∑c v√≤ng l·∫∑p theo th·ª© t·ª±</option>
                            <option id="custom1509">S·ª≠ d·ª•ng link ·∫£nh/background online c·ªßa b·∫°n</option>
                            <option id="custom1510">S·ª≠ d·ª•ng link video/background online c·ªßa b·∫°n</option>
                            <option id="custom1511">Nh·∫≠p link video Youtube online</option>
                            <option id="custom1512">L·∫•y ng·∫´u nhi√™n link video Youtube hi·ªán c√≥ (m·ªôt s·ªë link c√≥ th·ªÉ kh√¥ng c√≤n t·ªìn t·∫°i)</option>
                        </select>
                        <input type="number" style="width: 5em;" hidden id="chonKarax" name="KaraChon" value="1" min="1" max="5" />
                        <br />
                        <br />
                        <input name="txtOnline" id="online" size="100" style="display: none;" type="text" placeholder="Nh·∫≠p link online background c·ªßa b·∫°n th·ª±c hi·ªán karaoke..." />
                        <br />
                        <span id="helpYoutube" style="color: red; display: none;">
                        <u id="custom1513">L∆∞u √Ω</u> : m·ªôt s·ªë link Youtube c√≥ th·ªÉ kh√¥ng kh·∫£ d·ª•ng ho·∫∑c b·∫°n n√™n c·ªë g·∫Øng th·ª≠ l·∫°i (v√† h√£y t√¨m video youtube d√†i ph√∫t nh·∫•t c√≥ th·ªÉ üòÉ, tuy nhi√™n m·ªôt s·ªë tr∆∞·ªùng h·ª£p video c√≥ th·ªÉ t·ª± l·∫∑p l·∫°i)
                        </span>
                        @* <br />
                        <span id="Youtubehelp" style="color: blueviolet; display: none;">
                        V·ªõi l·ª±a ch·ªçn n√†y, ƒë·ªÉ ƒë·∫£m b·∫£o s·ª± tuy·ªát ƒë·ªëi th√¨ ban ƒë·∫ßu nh·∫°c s·∫Ω kh√¥ng ƒë∆∞·ª£c ph√°t t·ª± ƒë·ªông nh∆∞ b√¨nh th∆∞·ªùng.<br />
                        B·∫°n vui l√≤ng t·ª± canh ƒë·ª£i sau khi video Youtube tr√™n background c·ªßa b·∫°n ƒë√£ b·∫Øt ƒë·∫ßu v·ª´a ph√°t, h√£y nh·∫•n ph√≠m link <span style="color: orangered;" id="custom1514">Play & Start</span> ƒë·ªÉ m·ªõi b·∫Øt ƒë·∫ßu h√†nh tr√¨nh nh√© üòÅ
                        </span>
                        *@ <br />
                        <br />
                          @if(TempData["yes-file-mo"] == "true")
                    {
                    <input type="checkbox" name="auto_play" /><span id="custom1515">&nbsp;</span><b id="custom1516">Kh√¥ng t·ª± ƒë·ªông ph√°t nh·∫°c khi b·∫Øt ƒë·∫ßu</b> <br />
                    }
                    else
                    {
                        <input type="checkbox" name="auto_play" /><span id="custom1517">&nbsp;</span><del id="custom1518"><b id="custom1519">Kh√¥ng t·ª± ƒë·ªông ph√°t nh·∫°c khi b·∫Øt ƒë·∫ßu</b></del> <br />
                    }
                        <br />
                        <input type="checkbox" name="auto_music" />&nbsp;<b id="custom1520">T·ª± ƒë·ªông l·∫∑p l·∫°i music (kh√¥ng ƒë·∫£m b·∫£o)</b> <br />
                        <br />
                       @if(TempData["yes-file-mo"] == "true")
                     {
                                <input type="checkbox" name="txtBehind" id="behind" /><span id="custom1521">&nbsp;</span><b id="custom1522">S·∫Ω b·∫Øt ƒë·∫ßu ph√°t nh·∫°c sau <input type="number" name="txtBehindNumber" value="10" min="10" max="100" style="width: 5em;" /> gi√¢y</b> <br />
                            }
                            else
                            {
                                <input type="checkbox" name="txtBehind" id="behind" /><span id="custom1523">&nbsp;</span><del id="custom1524"><b id="custom1525">S·∫Ω b·∫Øt ƒë·∫ßu ph√°t nh·∫°c sau <input type="number" name="txtBehindNumber" value="10" min="10" max="100" style="width: 5em;" /> gi√¢y</b></del><br />
                            }
                        <br />
                        <input type="checkbox" name="txtInHoa" />&nbsp;<b id="custom1526">Vi·∫øt in hoa t·∫•t c·∫£ ƒëo·∫°n Text Karaoke</b> <br />
                        <br />
                        <input type="checkbox" id="cangiua" name="txtCanGiua" onchange="kiemtracangiua()" />&nbsp;<b id="custom1527">CƒÉn gi·ªØa t·∫•t c·∫£ ƒëo·∫°n Text Karaoke</b> <br />
                        <br />
                        <input type="checkbox" id="codinh1" name="txtCoDinh" checked />&nbsp;<b id="codinh2">C·ªë ƒë·ªãnh ƒëo·∫°n text Karaoke ·ªü ph√≠a d∆∞·ªõi (nh∆∞ c√°c b·∫£n karaoke th√¥ng th∆∞·ªùng)</b><br />
                        <br />
                        <input type="checkbox" name="random_font" />&nbsp;<b id="custom1528">T·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi l·∫ßn l∆∞·ª£t font ch·ªØ c·ªßa text karaoke</b> <br />
                        <br />
                        <input type="checkbox" name="random_color" />&nbsp;<b id="custom1529">T·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi random m√†u s·∫Øc (ban ƒë·∫ßu/ƒëi·ªÉm t√¥) c·ªßa text karaoke</b> <br />
                        <br />
                        <input type="checkbox" name="not_singer" />&nbsp;<b id="custom1530">Kh√¥ng c·∫ßn x·ª≠ l√Ω/ki·ªÉm tra qu√° tr√¨nh ch·∫°y c·ªßa mp3 g·ªëc (c√≥ gi·ªçng ca sƒ©)<br /> <span style="color:red" id="custom1531">(ho·∫∑c c√≥ th·ªÉ ƒë·∫∑t fragment # t·∫°i thanh url tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n trong khi play : locked/unlocked)</span></b> <br />
                    </td>
                </tr>
                <tr style="height: 40px;" id="custom1532">
                    <td id="custom1533"></td>
                    <td id="custom1534">
                        <br />
                        <input style="font-weight: bolder;" type="Submit" id="okxem" value="B·∫Øt ƒê·∫ßu" />
                    </td>
                </tr>
                }
            </table>
            } else {
             <div id="ajax_mama">
            <div class="video-overlay" id="play">
                <table align="center" onended="loadsolar()" id="custom1535">
                    <div id="hienlinh" style="display: none;">
                        <br />
                        <br />
                        <br />
                        <br />
                    </div>
                    &nbsp;&nbsp;&nbsp;
                    <br />
                    <br />
                    <div id="menu" style="display: block;position: relative;">
                        @if (ViewBag.Music != ViewBag.Musix && TempData["hassinger"] != "true") {
                        <select id="chon" onchange="changeKara()" title="C√≥ th·ªÉ nh·∫•n ph√≠m k/K ƒë·ªÉ chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô">
                            <option id="custom1536">Ch·∫ø ƒë·ªô Karaoke</option>
                            <option id="custom1537">Ch·∫ø ƒë·ªô Ca sƒ© h√°t</option>
                        </select>
                        } else {
                        <select id="chon" style="display: none;" onchange="changeKara()">
                            <option id="custom1538">Ch·∫ø ƒë·ªô Karaoke</option>
                            <option id="custom1539">Ch·∫ø ƒë·ªô Ca sƒ© h√°t</option>
                        </select>
                        }  &nbsp
                        <button style="color: brown;" onclick="loadsolar()" id="xanh" title="Nh·∫•n [Space] ƒë·ªÉ m·ªü/t·∫Øt to√†n m√†n h√¨nh"><b id="custom1540">FULL M√ÄN H√åNH - OFF</b></button> 
                        <button style="background-color:grey;border:none;absolute;bottom:0;right:0;" onclick="dongmenu()" id="xanhla" title="ƒê√≥ng th·∫ª ph·∫ßn menu l·∫°i (nh·∫•n m/M)"><b id="custom1541">‚ùå</b></button>
                        @if((TempData["TK-KARA"] == "" || TempData["TK-KARA"] == null) && (TempData["random_color"] == "false")) {
                        <span id="s_mau"><b id="xemthumau" style="color: #2900f5;">Ch·ªçn m√†u t√¥ ƒëi·ªÉm text</b><span id="custom1542"> : </span><input type="color" onchange="doimau()" id="mau" value="#2900f5" /></span>
                        } else {
                        <span style="display: none;" id="custom1543"> <b id="xemthumau" style="color: #2900f5;">Ch·ªçn m√†u t√¥ ƒëi·ªÉm text</b><span id="custom1544"> : </span><input type="color" onchange="doimau()" id="mau" value="#2900f5" /></span>
                        }

                        
                     @if(TempData["random_color"] == "false")
                    {
                    <b id="xemmauthu" style="color: #efe6e6;">Ch·ªçn m√†u ƒëo·∫°n text ban ƒë·∫ßu</b><span id="custom1545"> : </span><input type="color" onchange="doimauX()" id="mauX" value="#efe6e6" /> 
                    }
                    else
                    {
                        <span style="display:none" id="custom1546"><b id="xemmauthu" style="color: #efe6e6;display:none">Ch·ªçn m√†u ƒëo·∫°n text ban ƒë·∫ßu</b><span id="custom1547"> : </span><input type="color" onchange="doimauX()" id="mauX" value="#efe6e6" /></span>
                    }

                        <b id="xemmaudi" style="color: #e3f207;">Ch·ªçn m√†u cho time ƒë·∫øm ng∆∞·ª£c b·∫Øt ƒë·∫ßu karaoke</b> : <input type="color" onchange="doimauY()" id="mauY" value="#e3f207" />  
                        <span style="color: red;" id="custom1548">K√≠ch th∆∞·ªõc ch·ªØ : </span><input id="kichthuoc" type="number" style="width: 5em;" min="0" value="90" onchange="doikichthuoc()" />
                        @if((TempData["TK-KARA"] == "" || TempData["TK-KARA"] == null) && TempData["codinh"] == "false") {
                        <span style="color: deeppink;" id="custom1549"><b id="custom1550">V·ªã tr√≠ xu·∫•t hi·ªán : </b></span> <input id="hang" type="number" style="width: 5em;" min="0" value="0" onchange="doihang()" />
                        } else {
                        <span style="display: none; color: deeppink;" id="custom1551"><b id="custom1552">V·ªã tr√≠ xu·∫•t hi·ªán : </b></span> <input style="display: none; width: 5em;" id="hang" type="number" min="0" value="0" onchange="doihang()" />
                        }  @if (ViewBag.SuDung == "Video") {
                        <input type="checkbox" onchange="videovua()" id="vuavideo" />
                        <b style="color: red;" id="custom1553">Tu·ª≥ ch·ªânh video (option)</b>
                        }
                        <input type="text" onchange="moanh()" title="Nh·∫≠p ƒë·ªô m·ªù background (gi√° tr·ªã h·ª£p l·ªá t·ª´ 0 - 1, c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng th·∫≠p ph√¢n)" id="anhmo" size="3" value="0.8" />
                        <input type="color" id="maunex" title="Ch·ªçn m√†u s·∫Øc ph√¥ng n·ªÅn cho background (c√≥ th·ªÉ k√®m theo ƒë·ªô m·ªù)" onchange="moanh()" />
                        @if (TempData["index-auto"] == null || TempData["index-auto"] == "") {
                        <button onclick="StopKaraoke()" id="custom1554"><b style="color: darkgreen;" id="custom1555">THO√ÅT</b></button>
                        } else { var i1 = TempData["index-auto"].ToString().Split("***")[0] + ""; var i2 = TempData["length-list-auto"] + ""; TempData["index-auto"] = i1; TempData["length-list-auto"] = i2; if (i1 != i2) {
                        @if (TempData["ajax_js"] == "false")
                        {
                        <button onclick="StopKaraoke()" id="custom1556"><b style="color: darkgreen;" id="custom1557">ƒêi ƒë·∫øn b√†i h√°t ti·∫øp theo</b></button>
                        }
                        else
                        {
                        <button style="display:none" onclick="StopKaraoke()" id="custom1558"><b style="color: darkgreen;" id="custom1559">ƒêi ƒë·∫øn b√†i h√°t ti·∫øp theo</b></button>
                        <select  onchange="chonsongtulist()" onclick="loadlistSong()" id="listSongKara"></select>
                        }
                        } else {
                        <button style="display: none;" onclick="StopKaraoke()" id="custom1560"><b style="color: darkgreen; display: none;" id="custom1561">ƒêi ƒë·∫øn b√†i h√°t ti·∫øp theo</b></button>
                        }
                        @if (TempData["ajax_js"] == "false")
                        {
                        <button onclick="DungKaraoke()" id="custom1562"><b style="color: red;" id="thutuXYZ">Hu·ª∑ tr√¨nh ph√°t Karaoke t·ª± ƒë·ªông (ƒë√£ ph√°t : @i1/@i2)</b></button>
                        }
                        else
                        {
                        <button onclick="DungKaraoke()" id="custom1563"><b style="color: red;" id="thutuXYZ">Hu·ª∑ tr√¨nh ph√°t Karaoke t·ª± ƒë·ªông</b></button>
                        }
                        <input style="display:none" id="thutu" type="number" min="1" max="@i2" value="@i1" />
                        } 
                        <span style="color: darkturquoise;" id="custom1564">
                        <b id="custom1565"><u id="custom1566">@ViewBag.BHServer</u></b>
                        </span>
                        <button onclick="ghinho()" id="custom1567"><b style="color: lightcoral;" id="custom1568">Ghi nh·ªõ c√°c c√†i ƒë·∫∑t</b></button>  <button onclick="xoaghinho()" id="custom1569"><b style="color: lightcoral;" id="custom1570">Xo√° ghi nh·ªõ c√°c c√†i ƒë·∫∑t</b></button>
                        @if (TempData["codinh"] == "false") {
                        <spam id="custom1571"> </spam>
                        <b id="demo_nen" style="color: #ffffff;">S·ª≠ d·ª•ng m√†u n·ªÅn cho ph·∫ßn text : </b><input type="color" onchange="doimaunenX()" id="maunenX" value="#FFFFFF" />
                        <span id="custom1572"></span>
                        <a href="#xuly" onclick="xoamaunen()"><b id="custom1573">L√†m m·ªù n·ªÅn/Xo√° m√†u n·ªÅn</b></a>
                        <span id="custom1574"></span>
                        }  @if (TempData["auto-play"] == "false") {
                        <b id="xplay1" style="color: aqua;"><a onclick="xemplayX()" href="#xuly">Play</a></b>
                        }  @if (TempData["auto-play"] == "false") {
                        <b id="xplay2" style="color: aqua;"><a onclick="xemplay()" href="#xuly">Play & full screen</a></b>
                        }  @if (ViewBag.SuDung == "Youtube") {
                        <b style="color: aqua;" id="custom1575"><a id="re-You" onclick="restart_Youtube()" href="#xuly">Restart video Youtube</a></b>
                        }  @if (ViewBag.SuDung == "Youtube") {
                        <b style="color: aqua;" id="custom1576"><a onclick="replay_Youtube()" href="#xuly">Restart video Youtube and karaoke</a></b>
                        }
                        <button style="color: purple;" onclick="resetKaraoke()" title="Nh·∫•n o/O ƒë·ªÉ kh·ªüi ƒë·ªông l·∫°i" id="custom1577"><b id="custom1578">KH·ªûI ƒê·ªòNG L·∫†I/PH√ÅT</b></button> 
                    </div>
                    <div id="hienthi">
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                        <br />
                    </div>
                    <input type="text" id="txtKara1" hidden />
                    <input type="text" id="txtKara2" hidden />
                    @if (TempData["cangiua"] == "true") {
                    <tr style="height: 40px;" id="custom1579">
                        <td id="custom1580"></td>
                        <td id="custom1581">
                            <span id="number" style="color: #e3f207; font-size: 100px; width: 5em;"></span>
                            <br />
                            <div style="text-align: center;" id="custom1582">
                                <div id="background-X" style="display: block;">
                                    <p id="thietkeKara"></p>
                                    <p id="txtKaraoke1" onclick="dongmomenu()">
                                        <b id="custom1583"><span id="xanhX1" class="word"></span></b>
                                    </p>
                                    <p id="txtKaraoke2" onclick="dongmomenu()">
                                        <b id="custom1584"><span id="xanhX2" class="work"></span></b>
                                    </p>
                                    <span id="xui"></span>
                                </div>
                            </div>
                        </td>
                    </tr>
                    } else { if (TempData["codinh"] == "false") {
                    <span id="number" style="color: #e3f207; font-size: 100px; float: left; width: 5em;"></span>
                    <br />
                    <div style="text-align: center;" id="custom1585">
                        <div id="background-X" style="display: block;">
                            <p id="thietkeKara"></p>
                            <p id="txtKaraoke1" onclick="dongmomenu()" style="text-align: left;">
                                <b id="custom1586"><span id="xanhX1" class="word"></span></b>
                            </p>
                            <p id="txtKaraoke2" onclick="dongmomenu()" style="text-align: right;">
                                <b id="custom1587"><span id="xanhX2" class="work"></span></b>
                            </p>
                            <span id="xui"></span>
                        </div>
                    </div>
                    } else{
                    <span id="number" style="color: #e3f207; font-size: 100px; bottom: 500px; position: fixed; left: 0px; width: 5em;"></span>
                    <br />
                    <div style="text-align: center;" id="custom1588">
                        <div id="background-X" style="display: block;">
                            <p id="thietkeKara"></p>
                            <p id="txtKaraoke1" onclick="dongmomenu()" style="bottom: 200px; position: fixed; left: 0px;">
                                <b id="custom1589"><span id="xanhX1" class="word"></span></b>
                            </p>
                            <p id="txtKaraoke2" onclick="dongmomenu()" style="bottom: 0px; position: fixed; right: 0px;">
                                <b id="custom1590"><span id="xanhX2" class="work"></span></b>
                            </p>
                            <span id="xui"></span>
                        </div>
                    </div>
                    } }
                </table>
            </div>
            <div id="phanphoi">
                @if(ViewBag.SuDung == "") {
                <img src="@ViewBag.Background" id="myVideo" class="sqs-html5-video" />
                } else if (ViewBag.SuDung == "Video") {
                <video muted loop autoplay id="myVidex" class="sqs-html5-video">
                    <source src="@ViewBag.Background" />
                </video>
                } else {
                <iframe id="myVideo" style="pointer-events: none;" src="@ViewBag.Background"> </iframe>
                }
            </div>
            </div>
            <div id="ajax_papa" style="display:none;background-color:grey;text-align:center">
                <br />
                <br />
           <b style="color:yellow" id="custom1591">T·∫¢I L√äN FILE TXT KARAOKE : </b><span id="custom1592">&nbsp;&nbsp;&nbsp;&nbsp;</span><input type="file" id="fileTXT" />
           <br /> <b style="color:blue" id="custom1593">T·∫¢I L√äN FILE MP3 G·ªêC (C√ì GI·ªåNG CA Sƒ®) : </b><span id="custom1594">&nbsp;&nbsp;&nbsp;&nbsp;</span><input type="file" id="fileGOC" />
           <br />
            <b style="color:purple" id="custom1595">T·∫¢I L√äN FILE MP3 KARAOKE (ƒê√É PH√ÇN T√ÅCH) : </b><span id="custom1596">&nbsp;&nbsp;&nbsp;&nbsp;</span><input type="file" id="fileKARAOKE" />
           <br />
           <br />
           <button style="color:deeppink;background-color:greenyellow" onclick="okphatnhac()" id="custom1597"><b id="custom1598">PH√ÅT NH·∫†C</b></button><span id="custom1599">&nbsp;&nbsp;&nbsp;&nbsp;</span><button onclick="StopKaraoke()" id="custom1600"><b style="color: darkgreen;" id="custom1601">THO√ÅT</b></button>
           <br />
           <br />
        </div>
            }
            <script src="~/lib/jquery/dist/jquery.min.js"></script>
            <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
            <script src="~/js/site.js" asp-append-version="true"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> @Html.Raw(TempData["HTML-added"])
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> @Html.Raw(TempData["HTML-added"])
        </div>
        } else if (ViewBag.Share == "ERROR") {
        <br />
        <h3 style="color: red;" id="custom1602">‚ö†Ô∏è D·ªØ li·ªáu b·∫°n ƒëang c·ªë g·∫Øng truy c·∫≠p hi·ªán kh√¥ng t·ªìn t·∫°i/kh√¥ng h·ª£p l·ªá ho·∫∑c ƒëang g·∫∑p s·ª± c·ªë, vui l√≤ng th·ª≠ l·∫°i sau!</h3>
        <br />
        <a href="/Home/ToPlayKaraoke">Back Karaoke</a>
        }
    </body>
</html>